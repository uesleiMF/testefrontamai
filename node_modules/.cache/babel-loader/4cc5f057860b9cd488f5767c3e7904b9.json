{"ast":null,"code":"function getResponse(xhr) {\n  var text = xhr.responseText || xhr.response;\n\n  if (!text) {\n    return text;\n  }\n\n  try {\n    return JSON.parse(text);\n  } catch (e) {\n    return text;\n  }\n}\n\nexport default function ajaxUpload(options) {\n  var name = options.name,\n      timeout = options.timeout,\n      _options$headers = options.headers,\n      headers = _options$headers === void 0 ? {} : _options$headers,\n      _options$data = options.data,\n      data = _options$data === void 0 ? {} : _options$data,\n      _options$method = options.method,\n      method = _options$method === void 0 ? 'POST' : _options$method,\n      onError = options.onError,\n      onSuccess = options.onSuccess,\n      onProgress = options.onProgress,\n      file = options.file,\n      url = options.url,\n      withCredentials = options.withCredentials,\n      disableMultipart = options.disableMultipart;\n  var xhr = new XMLHttpRequest();\n  var sendableData;\n  xhr.open(method, url, true);\n\n  if (!disableMultipart) {\n    sendableData = new FormData();\n    sendableData.append(name, file, file.name);\n\n    for (var key in data) {\n      sendableData.append(key, data[key]);\n    }\n  } else {\n    sendableData = file;\n  }\n\n  Object.keys(headers).forEach(function (key) {\n    if (headers[key] !== null) {\n      xhr.setRequestHeader(key, headers[key]);\n    }\n  });\n\n  if (headers['X-Requested-With'] !== null) {\n    xhr.setRequestHeader('X-Requested-With', 'XMLHttpRequest');\n  }\n\n  if (timeout) {\n    xhr.timeout = timeout;\n\n    xhr.ontimeout = function (event) {\n      onError === null || onError === void 0 ? void 0 : onError({\n        type: 'timeout'\n      }, event, xhr);\n    };\n  }\n\n  if (withCredentials && 'withCredentials' in xhr) {\n    xhr.withCredentials = true;\n  }\n\n  xhr.onload = function (event) {\n    var resp = getResponse(xhr);\n\n    if (xhr.status < 200 || xhr.status >= 300) {\n      onError === null || onError === void 0 ? void 0 : onError({\n        type: 'server_error',\n        response: resp\n      }, event, xhr);\n      return;\n    }\n\n    onSuccess === null || onSuccess === void 0 ? void 0 : onSuccess(resp, event, xhr);\n  };\n\n  if (xhr.upload) {\n    xhr.upload.onprogress = function (event) {\n      var percent = 0;\n\n      if (event.lengthComputable) {\n        percent = event.loaded / event.total * 100;\n      }\n\n      onProgress === null || onProgress === void 0 ? void 0 : onProgress(percent, event, xhr);\n    };\n  }\n\n  xhr.onerror = function (event) {\n    onError === null || onError === void 0 ? void 0 : onError({\n      type: 'xhr_error'\n    }, event, xhr);\n  };\n\n  xhr.send(sendableData);\n  return {\n    xhr: xhr,\n    data: sendableData\n  };\n}","map":{"version":3,"sources":["/home/ueslei/Documentos/GitHub/testefrontamai/node_modules/rsuite/esm/utils/ajaxUpload.js"],"names":["getResponse","xhr","text","responseText","response","JSON","parse","e","ajaxUpload","options","name","timeout","_options$headers","headers","_options$data","data","_options$method","method","onError","onSuccess","onProgress","file","url","withCredentials","disableMultipart","XMLHttpRequest","sendableData","open","FormData","append","key","Object","keys","forEach","setRequestHeader","ontimeout","event","type","onload","resp","status","upload","onprogress","percent","lengthComputable","loaded","total","onerror","send"],"mappings":"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","sourcesContent":["function getResponse(xhr) {\n  var text = xhr.responseText || xhr.response;\n\n  if (!text) {\n    return text;\n  }\n\n  try {\n    return JSON.parse(text);\n  } catch (e) {\n    return text;\n  }\n}\n\nexport default function ajaxUpload(options) {\n  var name = options.name,\n      timeout = options.timeout,\n      _options$headers = options.headers,\n      headers = _options$headers === void 0 ? {} : _options$headers,\n      _options$data = options.data,\n      data = _options$data === void 0 ? {} : _options$data,\n      _options$method = options.method,\n      method = _options$method === void 0 ? 'POST' : _options$method,\n      onError = options.onError,\n      onSuccess = options.onSuccess,\n      onProgress = options.onProgress,\n      file = options.file,\n      url = options.url,\n      withCredentials = options.withCredentials,\n      disableMultipart = options.disableMultipart;\n  var xhr = new XMLHttpRequest();\n  var sendableData;\n  xhr.open(method, url, true);\n\n  if (!disableMultipart) {\n    sendableData = new FormData();\n    sendableData.append(name, file, file.name);\n\n    for (var key in data) {\n      sendableData.append(key, data[key]);\n    }\n  } else {\n    sendableData = file;\n  }\n\n  Object.keys(headers).forEach(function (key) {\n    if (headers[key] !== null) {\n      xhr.setRequestHeader(key, headers[key]);\n    }\n  });\n\n  if (headers['X-Requested-With'] !== null) {\n    xhr.setRequestHeader('X-Requested-With', 'XMLHttpRequest');\n  }\n\n  if (timeout) {\n    xhr.timeout = timeout;\n\n    xhr.ontimeout = function (event) {\n      onError === null || onError === void 0 ? void 0 : onError({\n        type: 'timeout'\n      }, event, xhr);\n    };\n  }\n\n  if (withCredentials && 'withCredentials' in xhr) {\n    xhr.withCredentials = true;\n  }\n\n  xhr.onload = function (event) {\n    var resp = getResponse(xhr);\n\n    if (xhr.status < 200 || xhr.status >= 300) {\n      onError === null || onError === void 0 ? void 0 : onError({\n        type: 'server_error',\n        response: resp\n      }, event, xhr);\n      return;\n    }\n\n    onSuccess === null || onSuccess === void 0 ? void 0 : onSuccess(resp, event, xhr);\n  };\n\n  if (xhr.upload) {\n    xhr.upload.onprogress = function (event) {\n      var percent = 0;\n\n      if (event.lengthComputable) {\n        percent = event.loaded / event.total * 100;\n      }\n\n      onProgress === null || onProgress === void 0 ? void 0 : onProgress(percent, event, xhr);\n    };\n  }\n\n  xhr.onerror = function (event) {\n    onError === null || onError === void 0 ? void 0 : onError({\n      type: 'xhr_error'\n    }, event, xhr);\n  };\n\n  xhr.send(sendableData);\n  return {\n    xhr: xhr,\n    data: sendableData\n  };\n}"]},"metadata":{},"sourceType":"module"}