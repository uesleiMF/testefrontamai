{"ast":null,"code":"var _jsxFileName = \"/home/ues/Documentos/GitHub/testefrontamai/src/Dashboard.js\";\nimport React, { Component } from 'react';\nimport { Button, TextField, Dialog, DialogActions, DialogTitle, DialogContent, TableBody, Table, TableContainer, TableHead, TableRow, TableCell, CircularProgress } from '@material-ui/core';\nimport { Pagination } from '@material-ui/lab';\nimport swal from 'sweetalert';\nimport axios from 'axios';\nexport default class Dashboard extends Component {\n  constructor() {\n    super();\n\n    this.getAuthHeaders = () => {\n      const {\n        token\n      } = this.state;\n      if (!token) return {};\n      return {\n        Authorization: `Bearer ${token}`,\n        token\n      };\n    };\n\n    this.getCasais = () => {\n      this.setState({\n        loading: true\n      });\n      const {\n        page,\n        search\n      } = this.state;\n      let url = `https://backtestmar.onrender.com/get-casal?page=${page}`;\n      if (search) url += `&search=${encodeURIComponent(search)}`;\n      axios.get(url, {\n        headers: this.getAuthHeaders()\n      }).then(res => {\n        this.setState({\n          casais: res.data.casais || [],\n          pages: res.data.pages || 0,\n          loading: false\n        });\n      }).catch(err => {\n        var _err$response, _err$response$data;\n\n        const msg = (err === null || err === void 0 ? void 0 : (_err$response = err.response) === null || _err$response === void 0 ? void 0 : (_err$response$data = _err$response.data) === null || _err$response$data === void 0 ? void 0 : _err$response$data.errorMessage) || err.message;\n        swal({\n          text: msg,\n          icon: 'error',\n          type: 'error'\n        });\n        this.setState({\n          loading: false,\n          casais: [],\n          pages: 0\n        });\n      });\n    };\n\n    this.logOut = () => {\n      localStorage.removeItem('token');\n      this.props.history.push('/');\n    };\n\n    this.onChange = e => {\n      if (e.target.files && e.target.files[0]) {\n        this.setState({\n          fileName: e.target.files[0].name\n        });\n        return;\n      }\n\n      const {\n        name,\n        value\n      } = e.target;\n      this.setState({\n        [name]: value\n      }, () => {\n        if (name === 'search') {\n          this.setState({\n            page: 1\n          }, () => this.getCasais());\n        }\n      });\n    };\n\n    this.pageChange = (e, page) => {\n      this.setState({\n        page\n      }, () => this.getCasais());\n    };\n\n    this.openAddModal = () => {\n      this.setState({\n        openAddModal: true,\n        id: '',\n        name: '',\n        desc: '',\n        tel: '',\n        niverH: '',\n        niverM: '',\n        fileName: ''\n      });\n      if (this.fileInputAddRef.current) this.fileInputAddRef.current.value = null;\n    };\n\n    this.closeAddModal = () => this.setState({\n      openAddModal: false\n    });\n\n    this.openEditModal = data => {\n      this.setState({\n        openEditModal: true,\n        id: data._id,\n        name: data.name,\n        desc: data.desc,\n        tel: data.tel,\n        niverH: data.niverH ? data.niverH.substring(0, 10) : '',\n        niverM: data.niverM ? data.niverM.substring(0, 10) : '',\n        fileName: data.image ? `https://backtestmar.onrender.com/${data.image}` : ''\n      });\n      if (this.fileInputEditRef.current) this.fileInputEditRef.current.value = null;\n    };\n\n    this.closeEditModal = () => this.setState({\n      openEditModal: false\n    });\n\n    this.addCasal = () => {\n      const fileInput = this.fileInputAddRef.current;\n      const {\n        name,\n        desc,\n        tel,\n        niverH,\n        niverM\n      } = this.state;\n      if (!fileInput || !fileInput.files[0]) return swal({\n        text: 'Selecione uma imagem',\n        icon: 'error'\n      });\n      if (!name || !desc || !tel || !niverH || !niverM) return swal({\n        text: 'Preencha todos os campos',\n        icon: 'error'\n      });\n      const fd = new FormData();\n      fd.append('file', fileInput.files[0]);\n      fd.append('name', name);\n      fd.append('desc', desc);\n      fd.append('tel', tel);\n      fd.append('niverH', niverH);\n      fd.append('niverM', niverM);\n      axios.post('https://backtestmar.onrender.com/add-casal', fd, {\n        headers: {\n          'content-type': 'multipart/form-data',\n          ...this.getAuthHeaders()\n        }\n      }).then(res => {\n        swal({\n          text: res.data.title,\n          icon: 'success'\n        });\n        this.closeAddModal();\n        this.setState({\n          name: '',\n          desc: '',\n          tel: '',\n          niverH: '',\n          niverM: '',\n          fileName: '',\n          page: 1\n        }, () => this.getCasais());\n        if (fileInput) fileInput.value = null;\n      }).catch(err => {\n        var _err$response2, _err$response2$data;\n\n        const msg = (err === null || err === void 0 ? void 0 : (_err$response2 = err.response) === null || _err$response2 === void 0 ? void 0 : (_err$response2$data = _err$response2.data) === null || _err$response2$data === void 0 ? void 0 : _err$response2$data.errorMessage) || err.message;\n        swal({\n          text: msg,\n          icon: 'error'\n        });\n      });\n    };\n\n    this.updateCasal = () => {\n      const fileInput = this.fileInputEditRef.current;\n      const {\n        id,\n        name,\n        desc,\n        tel,\n        niverH,\n        niverM\n      } = this.state;\n      const fd = new FormData();\n      fd.append('id', id);\n      if (fileInput && fileInput.files[0]) fd.append('file', fileInput.files[0]);\n      fd.append('name', name);\n      fd.append('desc', desc);\n      fd.append('tel', tel);\n      fd.append('niverH', niverH);\n      fd.append('niverM', niverM);\n      axios.post('https://backtestmar.onrender.com/update-casal', fd, {\n        headers: {\n          'content-type': 'multipart/form-data',\n          ...this.getAuthHeaders()\n        }\n      }).then(res => {\n        swal({\n          text: res.data.title,\n          icon: 'success'\n        });\n        this.closeEditModal();\n        this.setState({\n          name: '',\n          desc: '',\n          tel: '',\n          niverH: '',\n          niverM: '',\n          fileName: ''\n        }, () => this.getCasais());\n        if (fileInput) fileInput.value = null;\n      }).catch(err => {\n        var _err$response3, _err$response3$data;\n\n        const msg = (err === null || err === void 0 ? void 0 : (_err$response3 = err.response) === null || _err$response3 === void 0 ? void 0 : (_err$response3$data = _err$response3.data) === null || _err$response3$data === void 0 ? void 0 : _err$response3$data.errorMessage) || err.message;\n        swal({\n          text: msg,\n          icon: 'error'\n        });\n      });\n    };\n\n    this.deleteCasal = id => {\n      if (!window.confirm('Tem certeza que deseja excluir este casal?')) return;\n      axios.post('https://backtestmar.onrender.com/delete-casal', {\n        id\n      }, {\n        headers: {\n          'Content-Type': 'application/json',\n          ...this.getAuthHeaders()\n        }\n      }).then(res => {\n        swal({\n          text: res.data.title,\n          icon: 'success'\n        });\n        this.setState({\n          page: 1\n        }, () => this.getCasais());\n      }).catch(err => {\n        var _err$response4, _err$response4$data;\n\n        const msg = (err === null || err === void 0 ? void 0 : (_err$response4 = err.response) === null || _err$response4 === void 0 ? void 0 : (_err$response4$data = _err$response4.data) === null || _err$response4$data === void 0 ? void 0 : _err$response4$data.errorMessage) || err.message;\n        swal({\n          text: msg,\n          icon: 'error'\n        });\n      });\n    };\n\n    this.state = {\n      token: '',\n      loading: false,\n      casais: [],\n      page: 1,\n      pages: 0,\n      search: '',\n      // Modais\n      openAddModal: false,\n      openEditModal: false,\n      // Campos casal\n      id: '',\n      name: '',\n      desc: '',\n      tel: '',\n      niverH: '',\n      niverM: '',\n      fileName: ''\n    };\n    this.fileInputAddRef = React.createRef();\n    this.fileInputEditRef = React.createRef();\n  }\n\n  componentDidMount() {\n    const token = localStorage.getItem('token');\n\n    if (!token) {\n      this.props.history.push('/login');\n    } else {\n      this.setState({\n        token\n      }, () => this.getCasais());\n    }\n  }\n\n  render() {\n    var _this$fileInputAddRef;\n\n    const {\n      casais,\n      loading,\n      page,\n      pages,\n      name,\n      desc,\n      tel,\n      niverH,\n      niverM,\n      fileName,\n      search\n    } = this.state;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 199,\n        columnNumber: 7\n      }\n    }, loading && /*#__PURE__*/React.createElement(CircularProgress, {\n      color: \"inherit\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 200,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        display: 'flex',\n        justifyContent: 'space-between',\n        alignItems: 'center'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 202,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"h2\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 203,\n        columnNumber: 11\n      }\n    }, \"CELULAS DE CASAIS\"), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 204,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      variant: \"contained\",\n      color: \"primary\",\n      size: \"small\",\n      onClick: this.openAddModal,\n      style: {\n        marginRight: 8\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 205,\n        columnNumber: 13\n      }\n    }, \"Adicionar Casais\"), /*#__PURE__*/React.createElement(Button, {\n      variant: \"contained\",\n      size: \"small\",\n      onClick: this.logOut,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 206,\n        columnNumber: 13\n      }\n    }, \"Sair\"))), /*#__PURE__*/React.createElement(Dialog, {\n      open: this.state.openAddModal,\n      onClose: this.closeAddModal,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 211,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(DialogTitle, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 212,\n        columnNumber: 11\n      }\n    }, \"Adicionar Casais\"), /*#__PURE__*/React.createElement(DialogContent, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 213,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(TextField, {\n      name: \"name\",\n      value: name,\n      onChange: this.onChange,\n      label: \"Nome\",\n      fullWidth: true,\n      margin: \"dense\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 214,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(TextField, {\n      name: \"desc\",\n      value: desc,\n      onChange: this.onChange,\n      label: \"Descri\\xE7\\xE3o\",\n      fullWidth: true,\n      margin: \"dense\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 215,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(TextField, {\n      name: \"tel\",\n      value: tel,\n      onChange: this.onChange,\n      label: \"Contato\",\n      fullWidth: true,\n      margin: \"dense\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 216,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(TextField, {\n      type: \"date\",\n      name: \"niverH\",\n      value: niverH,\n      onChange: this.onChange,\n      label: \"Anivers\\xE1rio Homem\",\n      fullWidth: true,\n      margin: \"dense\",\n      InputLabelProps: {\n        shrink: true\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 217,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(TextField, {\n      type: \"date\",\n      name: \"niverM\",\n      value: niverM,\n      onChange: this.onChange,\n      label: \"Anivers\\xE1rio Mulher\",\n      fullWidth: true,\n      margin: \"dense\",\n      InputLabelProps: {\n        shrink: true\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 218,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        marginTop: 12\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 219,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      ref: this.fileInputAddRef,\n      type: \"file\",\n      accept: \"image/*\",\n      onChange: this.onChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 220,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(\"span\", {\n      style: {\n        marginLeft: 8\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 221,\n        columnNumber: 15\n      }\n    }, fileName))), /*#__PURE__*/React.createElement(DialogActions, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 224,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      onClick: this.closeAddModal,\n      color: \"primary\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 225,\n        columnNumber: 13\n      }\n    }, \"Cancelar\"), /*#__PURE__*/React.createElement(Button, {\n      onClick: this.addCasal,\n      color: \"primary\",\n      disabled: !name || !desc || !tel || !niverH || !niverM || !((_this$fileInputAddRef = this.fileInputAddRef.current) === null || _this$fileInputAddRef === void 0 ? void 0 : _this$fileInputAddRef.files[0]),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 226,\n        columnNumber: 13\n      }\n    }, \"Adicionar\"))), /*#__PURE__*/React.createElement(Dialog, {\n      open: this.state.openEditModal,\n      onClose: this.closeEditModal,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 231,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(DialogTitle, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 232,\n        columnNumber: 11\n      }\n    }, \"Editar Casais\"), /*#__PURE__*/React.createElement(DialogContent, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 233,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(TextField, {\n      name: \"name\",\n      value: name,\n      onChange: this.onChange,\n      label: \"Nome\",\n      fullWidth: true,\n      margin: \"dense\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 234,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(TextField, {\n      name: \"desc\",\n      value: desc,\n      onChange: this.onChange,\n      label: \"Descri\\xE7\\xE3o\",\n      fullWidth: true,\n      margin: \"dense\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 235,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(TextField, {\n      name: \"tel\",\n      value: tel,\n      onChange: this.onChange,\n      label: \"Contato\",\n      fullWidth: true,\n      margin: \"dense\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 236,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(TextField, {\n      type: \"date\",\n      name: \"niverH\",\n      value: niverH,\n      onChange: this.onChange,\n      label: \"Anivers\\xE1rio Homem\",\n      fullWidth: true,\n      margin: \"dense\",\n      InputLabelProps: {\n        shrink: true\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 237,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(TextField, {\n      type: \"date\",\n      name: \"niverM\",\n      value: niverM,\n      onChange: this.onChange,\n      label: \"Anivers\\xE1rio Mulher\",\n      fullWidth: true,\n      margin: \"dense\",\n      InputLabelProps: {\n        shrink: true\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 238,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        marginTop: 12\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 239,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      ref: this.fileInputEditRef,\n      type: \"file\",\n      accept: \"image/*\",\n      onChange: this.onChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 240,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(\"span\", {\n      style: {\n        marginLeft: 8\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 241,\n        columnNumber: 15\n      }\n    }, fileName))), /*#__PURE__*/React.createElement(DialogActions, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 244,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      onClick: this.closeEditModal,\n      color: \"primary\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 245,\n        columnNumber: 13\n      }\n    }, \"Cancelar\"), /*#__PURE__*/React.createElement(Button, {\n      onClick: this.updateCasal,\n      color: \"primary\",\n      disabled: !name || !desc || !tel || !niverH || !niverM,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 246,\n        columnNumber: 13\n      }\n    }, \"Editar\"))), /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        margin: '12px 0'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 250,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(TextField, {\n      type: \"search\",\n      name: \"search\",\n      value: search,\n      onChange: this.onChange,\n      placeholder: \"Buscar Casais\",\n      variant: \"outlined\",\n      size: \"small\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 251,\n        columnNumber: 11\n      }\n    })), /*#__PURE__*/React.createElement(TableContainer, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 254,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Table, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 255,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(TableHead, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 256,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(TableRow, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 257,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(TableCell, {\n      align: \"center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 258,\n        columnNumber: 17\n      }\n    }, \"Imagem\"), /*#__PURE__*/React.createElement(TableCell, {\n      align: \"center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 259,\n        columnNumber: 17\n      }\n    }, \"Nome\"), /*#__PURE__*/React.createElement(TableCell, {\n      align: \"center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 260,\n        columnNumber: 17\n      }\n    }, \"Descri\\xE7\\xE3o\"), /*#__PURE__*/React.createElement(TableCell, {\n      align: \"center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 261,\n        columnNumber: 17\n      }\n    }, \"Contato\"), /*#__PURE__*/React.createElement(TableCell, {\n      align: \"center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 262,\n        columnNumber: 17\n      }\n    }, \"Anivers\\xE1rio Homem\"), /*#__PURE__*/React.createElement(TableCell, {\n      align: \"center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 263,\n        columnNumber: 17\n      }\n    }, \"Anivers\\xE1rio Mulher\"), /*#__PURE__*/React.createElement(TableCell, {\n      align: \"center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 264,\n        columnNumber: 17\n      }\n    }, \"A\\xE7\\xE3o\"))), /*#__PURE__*/React.createElement(TableBody, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 267,\n        columnNumber: 13\n      }\n    }, casais.map(row => {\n      var _row$image, _row$niverH, _row$niverM;\n\n      return /*#__PURE__*/React.createElement(TableRow, {\n        key: row._id,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 269,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(TableCell, {\n        align: \"center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 270,\n          columnNumber: 19\n        }\n      }, row.image ? /*#__PURE__*/React.createElement(\"img\", {\n        src: ((_row$image = row.image) === null || _row$image === void 0 ? void 0 : _row$image.startsWith('http')) ? row.image : `https://backtestmar.onrender.com/${row.image}`,\n        alt: row.name,\n        width: \"70\",\n        height: \"70\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 271,\n          columnNumber: 34\n        }\n      }) : 'â€”'), /*#__PURE__*/React.createElement(TableCell, {\n        align: \"center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 273,\n          columnNumber: 19\n        }\n      }, row.name), /*#__PURE__*/React.createElement(TableCell, {\n        align: \"center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 274,\n          columnNumber: 19\n        }\n      }, row.desc), /*#__PURE__*/React.createElement(TableCell, {\n        align: \"center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 275,\n          columnNumber: 19\n        }\n      }, row.tel), /*#__PURE__*/React.createElement(TableCell, {\n        align: \"center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 276,\n          columnNumber: 19\n        }\n      }, (_row$niverH = row.niverH) === null || _row$niverH === void 0 ? void 0 : _row$niverH.substring(0, 10)), /*#__PURE__*/React.createElement(TableCell, {\n        align: \"center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 277,\n          columnNumber: 19\n        }\n      }, (_row$niverM = row.niverM) === null || _row$niverM === void 0 ? void 0 : _row$niverM.substring(0, 10)), /*#__PURE__*/React.createElement(TableCell, {\n        align: \"center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 278,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(Button, {\n        variant: \"outlined\",\n        color: \"primary\",\n        size: \"small\",\n        onClick: () => this.openEditModal(row),\n        style: {\n          marginRight: 6\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 279,\n          columnNumber: 21\n        }\n      }, \"Editar\"), /*#__PURE__*/React.createElement(Button, {\n        variant: \"outlined\",\n        color: \"secondary\",\n        size: \"small\",\n        onClick: () => this.deleteCasal(row._id),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 280,\n          columnNumber: 21\n        }\n      }, \"Deletar\")));\n    }))), /*#__PURE__*/React.createElement(Pagination, {\n      count: pages,\n      page: page,\n      onChange: this.pageChange,\n      color: \"primary\",\n      style: {\n        marginTop: 12\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 286,\n        columnNumber: 11\n      }\n    })));\n  }\n\n}","map":{"version":3,"sources":["/home/ues/Documentos/GitHub/testefrontamai/src/Dashboard.js"],"names":["React","Component","Button","TextField","Dialog","DialogActions","DialogTitle","DialogContent","TableBody","Table","TableContainer","TableHead","TableRow","TableCell","CircularProgress","Pagination","swal","axios","Dashboard","constructor","getAuthHeaders","token","state","Authorization","getCasais","setState","loading","page","search","url","encodeURIComponent","get","headers","then","res","casais","data","pages","catch","err","msg","response","errorMessage","message","text","icon","type","logOut","localStorage","removeItem","props","history","push","onChange","e","target","files","fileName","name","value","pageChange","openAddModal","id","desc","tel","niverH","niverM","fileInputAddRef","current","closeAddModal","openEditModal","_id","substring","image","fileInputEditRef","closeEditModal","addCasal","fileInput","fd","FormData","append","post","title","updateCasal","deleteCasal","window","confirm","createRef","componentDidMount","getItem","render","display","justifyContent","alignItems","marginRight","shrink","marginTop","marginLeft","margin","map","row","startsWith"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport {\n  Button, TextField, Dialog, DialogActions,\n  DialogTitle, DialogContent, TableBody, Table,\n  TableContainer, TableHead, TableRow, TableCell, CircularProgress,\n} from '@material-ui/core';\nimport { Pagination } from '@material-ui/lab';\nimport swal from 'sweetalert';\nimport axios from 'axios';\n\nexport default class Dashboard extends Component {\n  constructor() {\n    super();\n    this.state = {\n      token: '',\n      loading: false,\n      casais: [],\n      page: 1,\n      pages: 0,\n      search: '',\n      // Modais\n      openAddModal: false,\n      openEditModal: false,\n      // Campos casal\n      id: '',\n      name: '',\n      desc: '',\n      tel: '',\n      niverH: '',\n      niverM: '',\n      fileName: '',\n    };\n\n    this.fileInputAddRef = React.createRef();\n    this.fileInputEditRef = React.createRef();\n  }\n\n  componentDidMount() {\n    const token = localStorage.getItem('token');\n    if (!token) {\n      this.props.history.push('/login');\n    } else {\n      this.setState({ token }, () => this.getCasais());\n    }\n  }\n\n  getAuthHeaders = () => {\n    const { token } = this.state;\n    if (!token) return {};\n    return {\n      Authorization: `Bearer ${token}`,\n      token,\n    };\n  }\n\n  getCasais = () => {\n    this.setState({ loading: true });\n    const { page, search } = this.state;\n    let url = `https://backtestmar.onrender.com/get-casal?page=${page}`;\n    if (search) url += `&search=${encodeURIComponent(search)}`;\n\n    axios.get(url, { headers: this.getAuthHeaders() })\n      .then(res => {\n        this.setState({\n          casais: res.data.casais || [],\n          pages: res.data.pages || 0,\n          loading: false\n        });\n      })\n      .catch(err => {\n        const msg = err?.response?.data?.errorMessage || err.message;\n        swal({ text: msg, icon: 'error', type: 'error' });\n        this.setState({ loading: false, casais: [], pages: 0 });\n      });\n  }\n\n  logOut = () => {\n    localStorage.removeItem('token');\n    this.props.history.push('/');\n  }\n\n  onChange = (e) => {\n    if (e.target.files && e.target.files[0]) {\n      this.setState({ fileName: e.target.files[0].name });\n      return;\n    }\n    const { name, value } = e.target;\n    this.setState({ [name]: value }, () => {\n      if (name === 'search') {\n        this.setState({ page: 1 }, () => this.getCasais());\n      }\n    });\n  }\n\n  pageChange = (e, page) => {\n    this.setState({ page }, () => this.getCasais());\n  }\n\n  // ------------------ MODAIS ------------------\n  openAddModal = () => {\n    this.setState({\n      openAddModal: true,\n      id: '', name: '', desc: '', tel: '', niverH: '', niverM: '', fileName: ''\n    });\n    if (this.fileInputAddRef.current) this.fileInputAddRef.current.value = null;\n  }\n\n  closeAddModal = () => this.setState({ openAddModal: false });\n\n  openEditModal = (data) => {\n    this.setState({\n      openEditModal: true,\n      id: data._id,\n      name: data.name,\n      desc: data.desc,\n      tel: data.tel,\n      niverH: data.niverH ? data.niverH.substring(0, 10) : '',\n      niverM: data.niverM ? data.niverM.substring(0, 10) : '',\n      fileName: data.image ? `https://backtestmar.onrender.com/${data.image}` : ''\n    });\n    if (this.fileInputEditRef.current) this.fileInputEditRef.current.value = null;\n  }\n\n  closeEditModal = () => this.setState({ openEditModal: false });\n\n  // ------------------ CRUD ------------------\n  addCasal = () => {\n    const fileInput = this.fileInputAddRef.current;\n    const { name, desc, tel, niverH, niverM } = this.state;\n\n    if (!fileInput || !fileInput.files[0]) return swal({ text: 'Selecione uma imagem', icon: 'error' });\n    if (!name || !desc || !tel || !niverH || !niverM) return swal({ text: 'Preencha todos os campos', icon: 'error' });\n\n    const fd = new FormData();\n    fd.append('file', fileInput.files[0]);\n    fd.append('name', name);\n    fd.append('desc', desc);\n    fd.append('tel', tel);\n    fd.append('niverH', niverH);\n    fd.append('niverM', niverM);\n\n    axios.post('https://backtestmar.onrender.com/add-casal', fd, { headers: { 'content-type': 'multipart/form-data', ...this.getAuthHeaders() } })\n      .then(res => {\n        swal({ text: res.data.title, icon: 'success' });\n        this.closeAddModal();\n        this.setState({ name: '', desc: '', tel: '', niverH: '', niverM: '', fileName: '', page: 1 }, () => this.getCasais());\n        if (fileInput) fileInput.value = null;\n      })\n      .catch(err => {\n        const msg = err?.response?.data?.errorMessage || err.message;\n        swal({ text: msg, icon: 'error' });\n      });\n  }\n\n  updateCasal = () => {\n    const fileInput = this.fileInputEditRef.current;\n    const { id, name, desc, tel, niverH, niverM } = this.state;\n\n    const fd = new FormData();\n    fd.append('id', id);\n    if (fileInput && fileInput.files[0]) fd.append('file', fileInput.files[0]);\n    fd.append('name', name);\n    fd.append('desc', desc);\n    fd.append('tel', tel);\n    fd.append('niverH', niverH);\n    fd.append('niverM', niverM);\n\n    axios.post('https://backtestmar.onrender.com/update-casal', fd, { headers: { 'content-type': 'multipart/form-data', ...this.getAuthHeaders() } })\n      .then(res => {\n        swal({ text: res.data.title, icon: 'success' });\n        this.closeEditModal();\n        this.setState({ name: '', desc: '', tel: '', niverH: '', niverM: '', fileName: '' }, () => this.getCasais());\n        if (fileInput) fileInput.value = null;\n      })\n      .catch(err => {\n        const msg = err?.response?.data?.errorMessage || err.message;\n        swal({ text: msg, icon: 'error' });\n      });\n  }\n\n  deleteCasal = (id) => {\n    if (!window.confirm('Tem certeza que deseja excluir este casal?')) return;\n\n    axios.post('https://backtestmar.onrender.com/delete-casal', { id }, { headers: { 'Content-Type': 'application/json', ...this.getAuthHeaders() } })\n      .then(res => {\n        swal({ text: res.data.title, icon: 'success' });\n        this.setState({ page: 1 }, () => this.getCasais());\n      })\n      .catch(err => {\n        const msg = err?.response?.data?.errorMessage || err.message;\n        swal({ text: msg, icon: 'error' });\n      });\n  }\n\n  render() {\n    const { casais, loading, page, pages, name, desc, tel, niverH, niverM, fileName, search } = this.state;\n\n    return (\n      <div>\n        {loading && <CircularProgress color=\"inherit\" />}\n\n        <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>\n          <h2>CELULAS DE CASAIS</h2>\n          <div>\n            <Button variant=\"contained\" color=\"primary\" size=\"small\" onClick={this.openAddModal} style={{ marginRight: 8 }}>Adicionar Casais</Button>\n            <Button variant=\"contained\" size=\"small\" onClick={this.logOut}>Sair</Button>\n          </div>\n        </div>\n\n        {/* Modal Add */}\n        <Dialog open={this.state.openAddModal} onClose={this.closeAddModal}>\n          <DialogTitle>Adicionar Casais</DialogTitle>\n          <DialogContent>\n            <TextField name=\"name\" value={name} onChange={this.onChange} label=\"Nome\" fullWidth margin=\"dense\" />\n            <TextField name=\"desc\" value={desc} onChange={this.onChange} label=\"DescriÃ§Ã£o\" fullWidth margin=\"dense\" />\n            <TextField name=\"tel\" value={tel} onChange={this.onChange} label=\"Contato\" fullWidth margin=\"dense\" />\n            <TextField type=\"date\" name=\"niverH\" value={niverH} onChange={this.onChange} label=\"AniversÃ¡rio Homem\" fullWidth margin=\"dense\" InputLabelProps={{ shrink: true }} />\n            <TextField type=\"date\" name=\"niverM\" value={niverM} onChange={this.onChange} label=\"AniversÃ¡rio Mulher\" fullWidth margin=\"dense\" InputLabelProps={{ shrink: true }} />\n            <div style={{ marginTop: 12 }}>\n              <input ref={this.fileInputAddRef} type=\"file\" accept=\"image/*\" onChange={this.onChange} />\n              <span style={{ marginLeft: 8 }}>{fileName}</span>\n            </div>\n          </DialogContent>\n          <DialogActions>\n            <Button onClick={this.closeAddModal} color=\"primary\">Cancelar</Button>\n            <Button onClick={this.addCasal} color=\"primary\" disabled={!name || !desc || !tel || !niverH || !niverM || !this.fileInputAddRef.current?.files[0]}>Adicionar</Button>\n          </DialogActions>\n        </Dialog>\n\n        {/* Modal Edit */}\n        <Dialog open={this.state.openEditModal} onClose={this.closeEditModal}>\n          <DialogTitle>Editar Casais</DialogTitle>\n          <DialogContent>\n            <TextField name=\"name\" value={name} onChange={this.onChange} label=\"Nome\" fullWidth margin=\"dense\" />\n            <TextField name=\"desc\" value={desc} onChange={this.onChange} label=\"DescriÃ§Ã£o\" fullWidth margin=\"dense\" />\n            <TextField name=\"tel\" value={tel} onChange={this.onChange} label=\"Contato\" fullWidth margin=\"dense\" />\n            <TextField type=\"date\" name=\"niverH\" value={niverH} onChange={this.onChange} label=\"AniversÃ¡rio Homem\" fullWidth margin=\"dense\" InputLabelProps={{ shrink: true }} />\n            <TextField type=\"date\" name=\"niverM\" value={niverM} onChange={this.onChange} label=\"AniversÃ¡rio Mulher\" fullWidth margin=\"dense\" InputLabelProps={{ shrink: true }} />\n            <div style={{ marginTop: 12 }}>\n              <input ref={this.fileInputEditRef} type=\"file\" accept=\"image/*\" onChange={this.onChange} />\n              <span style={{ marginLeft: 8 }}>{fileName}</span>\n            </div>\n          </DialogContent>\n          <DialogActions>\n            <Button onClick={this.closeEditModal} color=\"primary\">Cancelar</Button>\n            <Button onClick={this.updateCasal} color=\"primary\" disabled={!name || !desc || !tel || !niverH || !niverM}>Editar</Button>\n          </DialogActions>\n        </Dialog>\n\n        <div style={{ margin: '12px 0' }}>\n          <TextField type=\"search\" name=\"search\" value={search} onChange={this.onChange} placeholder=\"Buscar Casais\" variant=\"outlined\" size=\"small\" />\n        </div>\n\n        <TableContainer>\n          <Table>\n            <TableHead>\n              <TableRow>\n                <TableCell align=\"center\">Imagem</TableCell>\n                <TableCell align=\"center\">Nome</TableCell>\n                <TableCell align=\"center\">DescriÃ§Ã£o</TableCell>\n                <TableCell align=\"center\">Contato</TableCell>\n                <TableCell align=\"center\">AniversÃ¡rio Homem</TableCell>\n                <TableCell align=\"center\">AniversÃ¡rio Mulher</TableCell>\n                <TableCell align=\"center\">AÃ§Ã£o</TableCell>\n              </TableRow>\n            </TableHead>\n            <TableBody>\n              {casais.map(row => (\n                <TableRow key={row._id}>\n                  <TableCell align=\"center\">\n                    {row.image ? <img src={row.image?.startsWith('http') ? row.image : `https://backtestmar.onrender.com/${row.image}`} alt={row.name} width=\"70\" height=\"70\" /> : 'â€”'}\n                  </TableCell>\n                  <TableCell align=\"center\">{row.name}</TableCell>\n                  <TableCell align=\"center\">{row.desc}</TableCell>\n                  <TableCell align=\"center\">{row.tel}</TableCell>\n                  <TableCell align=\"center\">{row.niverH?.substring(0, 10)}</TableCell>\n                  <TableCell align=\"center\">{row.niverM?.substring(0, 10)}</TableCell>\n                  <TableCell align=\"center\">\n                    <Button variant=\"outlined\" color=\"primary\" size=\"small\" onClick={() => this.openEditModal(row)} style={{ marginRight: 6 }}>Editar</Button>\n                    <Button variant=\"outlined\" color=\"secondary\" size=\"small\" onClick={() => this.deleteCasal(row._id)}>Deletar</Button>\n                  </TableCell>\n                </TableRow>\n              ))}\n            </TableBody>\n          </Table>\n          <Pagination count={pages} page={page} onChange={this.pageChange} color=\"primary\" style={{ marginTop: 12 }} />\n        </TableContainer>\n      </div>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}