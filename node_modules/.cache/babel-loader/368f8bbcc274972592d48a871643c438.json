{"ast":null,"code":"var _jsxFileName = \"/media/ueslei/8c30fe4f-7d20-4ae9-ab32-8dd7ef60dcdf/home/jumf/GitHub/testefrontamai/src/pages/Player/App.js\";\nimport React, { useState, useRef } from \"react\";\nimport styled from \"styled-components\";\nimport \"./App.css\";\n\n// Import components\nimport Player from \"./Player\";\nimport Song from \"./Song\";\nimport Library from \"./Library\";\nimport Nav from \"./Nav\";\nimport Credit from \"./Credit\";\n// Import data\nimport data from \"./data\";\nconst App = () => {\n  // Ref\n  const audioRef = useRef(null);\n\n  // State\n  const [songs, setSongs] = useState(data());\n  const [currentSong, setCurrentSong] = useState(songs[0]);\n  const [isPlaying, setIsPlaying] = useState(false);\n  const [libraryStatus, setLibraryStatus] = useState(false);\n  const [songInfo, setSongInfo] = useState({\n    currentTime: 0,\n    duration: 0\n  });\n\n  // Functions\n  const updateTimeHandler = e => {\n    const currentTime = e.target.currentTime;\n    const duration = e.target.duration;\n    setSongInfo({\n      ...songInfo,\n      currentTime,\n      duration\n    });\n  };\n  const songEndHandler = async () => {\n    let currentIndex = songs.findIndex(song => song.id === currentSong.id);\n    let nextSong = songs[(currentIndex + 1) % songs.length];\n    await setCurrentSong(nextSong);\n    const newSongs = songs.map(song => {\n      if (song.id === nextSong.id) {\n        return {\n          ...song,\n          active: true\n        };\n      } else {\n        return {\n          ...song,\n          active: false\n        };\n      }\n    });\n    setSongs(newSongs);\n    if (isPlaying) {\n      audioRef.current.play();\n    }\n  };\n  return /*#__PURE__*/React.createElement(AppContainer, {\n    libraryStatus: libraryStatus,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Nav, {\n    libraryStatus: libraryStatus,\n    setLibraryStatus: setLibraryStatus,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 4\n    }\n  }), /*#__PURE__*/React.createElement(Song, {\n    currentSong: currentSong,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 4\n    }\n  }), /*#__PURE__*/React.createElement(Player, {\n    isPlaying: isPlaying,\n    setIsPlaying: setIsPlaying,\n    currentSong: currentSong,\n    setCurrentSong: setCurrentSong,\n    audioRef: audioRef,\n    songInfo: songInfo,\n    setSongInfo: setSongInfo,\n    songs: songs,\n    setSongs: setSongs,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 4\n    }\n  }), /*#__PURE__*/React.createElement(Library, {\n    songs: songs,\n    setCurrentSong: setCurrentSong,\n    audioRef: audioRef,\n    isPlaying: isPlaying,\n    setSongs: setSongs,\n    libraryStatus: libraryStatus,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 4\n    }\n  }), /*#__PURE__*/React.createElement(Credit, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 4\n    }\n  }), /*#__PURE__*/React.createElement(\"audio\", {\n    onLoadedMetadata: updateTimeHandler,\n    onTimeUpdate: updateTimeHandler,\n    onEnded: songEndHandler,\n    ref: audioRef,\n    src: currentSong.audio,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 4\n    }\n  }));\n};\nconst AppContainer = styled.div`\n\ttransition: all 0.5s ease;\n\tmargin-left: ${p => p.libraryStatus ? \"10rem\" : \"0\"};\n\t@media screen and (max-width: 468px) {\n\t\tmargin-left: 0;\n\t}\n`;\nexport default App;","map":{"version":3,"names":["React","useState","useRef","styled","Player","Song","Library","Nav","Credit","data","App","audioRef","songs","setSongs","currentSong","setCurrentSong","isPlaying","setIsPlaying","libraryStatus","setLibraryStatus","songInfo","setSongInfo","currentTime","duration","updateTimeHandler","e","target","songEndHandler","currentIndex","findIndex","song","id","nextSong","length","newSongs","map","active","current","play","audio","AppContainer","div","p"],"sources":["/media/ueslei/8c30fe4f-7d20-4ae9-ab32-8dd7ef60dcdf/home/jumf/GitHub/testefrontamai/src/pages/Player/App.js"],"sourcesContent":["import React, { useState, useRef } from \"react\";\nimport styled from \"styled-components\";\nimport \"./App.css\";\n\n// Import components\nimport Player from \"./Player\";\nimport Song from \"./Song\";\nimport Library from \"./Library\";\nimport Nav from \"./Nav\";\nimport Credit from \"./Credit\";\n// Import data\nimport data from \"./data\";\n\nconst App = () => {\n\t// Ref\n\tconst audioRef = useRef(null);\n\n\t// State\n\tconst [songs, setSongs] = useState(data());\n\tconst [currentSong, setCurrentSong] = useState(songs[0]);\n\tconst [isPlaying, setIsPlaying] = useState(false);\n\tconst [libraryStatus, setLibraryStatus] = useState(false);\n\tconst [songInfo, setSongInfo] = useState({\n\t\tcurrentTime: 0,\n\t\tduration: 0,\n\t});\n\n\t// Functions\n\tconst updateTimeHandler = (e) => {\n\t\tconst currentTime = e.target.currentTime;\n\t\tconst duration = e.target.duration;\n\t\tsetSongInfo({ ...songInfo, currentTime, duration });\n\t};\n\n\tconst songEndHandler = async () => {\n\t\tlet currentIndex = songs.findIndex((song) => song.id === currentSong.id);\n\t\tlet nextSong = songs[(currentIndex + 1) % songs.length];\n\t\tawait setCurrentSong(nextSong);\n\n\t\tconst newSongs = songs.map((song) => {\n\t\t\tif (song.id === nextSong.id) {\n\t\t\t\treturn {\n\t\t\t\t\t...song,\n\t\t\t\t\tactive: true,\n\t\t\t\t};\n\t\t\t} else {\n\t\t\t\treturn {\n\t\t\t\t\t...song,\n\t\t\t\t\tactive: false,\n\t\t\t\t};\n\t\t\t}\n\t\t});\n\t\tsetSongs(newSongs);\n\n\t\tif (isPlaying) {\n\t\t\taudioRef.current.play();\n\t\t}\n\t};\n\n\treturn (\n\t\t\n   \n    \n    <AppContainer libraryStatus={libraryStatus}>\n\t\t\t<Nav libraryStatus={libraryStatus} setLibraryStatus={setLibraryStatus} />\n\t\t\t<Song currentSong={currentSong} />\n\t\t\t<Player\n\t\t\t\tisPlaying={isPlaying}\n\t\t\t\tsetIsPlaying={setIsPlaying}\n\t\t\t\tcurrentSong={currentSong}\n\t\t\t\tsetCurrentSong={setCurrentSong}\n\t\t\t\taudioRef={audioRef}\n\t\t\t\tsongInfo={songInfo}\n\t\t\t\tsetSongInfo={setSongInfo}\n\t\t\t\tsongs={songs}\n\t\t\t\tsetSongs={setSongs}\n\t\t\t/>\n\t\t\t<Library\n\t\t\t\tsongs={songs}\n\t\t\t\tsetCurrentSong={setCurrentSong}\n\t\t\t\taudioRef={audioRef}\n\t\t\t\tisPlaying={isPlaying}\n\t\t\t\tsetSongs={setSongs}\n\t\t\t\tlibraryStatus={libraryStatus}\n\t\t\t/>\n\t\t\t<Credit />\n\t\t\t<audio\n\t\t\t\tonLoadedMetadata={updateTimeHandler}\n\t\t\t\tonTimeUpdate={updateTimeHandler}\n\t\t\t\tonEnded={songEndHandler}\n\t\t\t\tref={audioRef}\n\t\t\t\tsrc={currentSong.audio}\n\t\t\t/>\n\t\t</AppContainer>\n    \n\t);\n};\n\nconst AppContainer = styled.div`\n\ttransition: all 0.5s ease;\n\tmargin-left: ${(p) => (p.libraryStatus ? \"10rem\" : \"0\")};\n\t@media screen and (max-width: 468px) {\n\t\tmargin-left: 0;\n\t}\n`;\n\nexport default App;"],"mappings":"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"},"metadata":{},"sourceType":"module"}