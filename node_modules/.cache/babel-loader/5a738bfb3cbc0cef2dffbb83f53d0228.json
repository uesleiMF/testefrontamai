{"ast":null,"code":"var _jsxFileName = \"/home/ues/Documentos/GitHub/testefrontamai/src/Dashboard.js\";\nimport React, { Component } from 'react';\nimport { Button, TextField, Dialog, DialogActions, DialogTitle, DialogContent, TableBody, Table, TableContainer, TableHead, TableRow, TableCell, CircularProgress } from '@material-ui/core';\nimport { Pagination } from '@material-ui/lab';\nimport swal from 'sweetalert';\nimport axios from 'axios';\nexport default class Dashboard extends Component {\n  constructor() {\n    super();\n    this._isMounted = false;\n\n    this.componentDidMount = () => {\n      this._isMounted = true;\n      const token = localStorage.getItem('token');\n\n      if (!token) {\n        this.props.history.push('/login');\n      } else if (this._isMounted) {\n        this.setState({\n          token\n        }, () => this.getCasal());\n      }\n    };\n\n    this.getAuthHeaders = () => {\n      const t = this.state.token || localStorage.getItem('token');\n      if (!t) return {};\n      return {\n        Authorization: `Bearer ${t}`,\n        token: t\n      };\n    };\n\n    this.getCasal = async () => {\n      if (this._isMounted) this.setState({\n        loading: true\n      });\n\n      try {\n        var _ref, _res$data$casais, _res$data, _res$data2, _ref2, _res$data$pages, _res$data3, _res$data4;\n\n        let data = `?page=${this.state.page}`;\n        if (this.state.search) data += `&search=${encodeURIComponent(this.state.search)}`;\n        const res = await axios.get(`https://backtestmar.onrender.com/get-casal${data}`, {\n          headers: this.getAuthHeaders()\n        });\n        const casais = (_ref = (_res$data$casais = (_res$data = res.data) === null || _res$data === void 0 ? void 0 : _res$data.casais) !== null && _res$data$casais !== void 0 ? _res$data$casais : (_res$data2 = res.data) === null || _res$data2 === void 0 ? void 0 : _res$data2.casal) !== null && _ref !== void 0 ? _ref : [];\n        const pages = (_ref2 = (_res$data$pages = (_res$data3 = res.data) === null || _res$data3 === void 0 ? void 0 : _res$data3.pages) !== null && _res$data$pages !== void 0 ? _res$data$pages : (_res$data4 = res.data) === null || _res$data4 === void 0 ? void 0 : _res$data4.totalPages) !== null && _ref2 !== void 0 ? _ref2 : 1;\n        if (this._isMounted) this.setState({\n          loading: false,\n          casais,\n          pages\n        });\n      } catch (err) {\n        var _err$response, _err$response$data;\n\n        const msg = (err === null || err === void 0 ? void 0 : (_err$response = err.response) === null || _err$response === void 0 ? void 0 : (_err$response$data = _err$response.data) === null || _err$response$data === void 0 ? void 0 : _err$response$data.errorMessage) || err.message || 'Erro ao buscar casais';\n        swal({\n          text: msg,\n          icon: \"error\"\n        });\n        if (this._isMounted) this.setState({\n          loading: false,\n          casais: [],\n          pages: 0\n        });\n      }\n    };\n\n    this.deleteCasal = async id => {\n      if (!window.confirm('Tem certeza que deseja excluir este casal?')) return;\n\n      try {\n        var _res$data5, _res$data6;\n\n        const headers = {\n          'Content-Type': 'application/json',\n          ...this.getAuthHeaders()\n        };\n        let res;\n\n        try {\n          res = await axios.delete(`https://backtestmar.onrender.com/delete-casal/${id}`, {\n            headers\n          });\n        } catch (e) {\n          res = await axios.post('https://backtestmar.onrender.com/delete-casal', {\n            id\n          }, {\n            headers\n          });\n        }\n\n        swal({\n          text: ((_res$data5 = res.data) === null || _res$data5 === void 0 ? void 0 : _res$data5.title) || ((_res$data6 = res.data) === null || _res$data6 === void 0 ? void 0 : _res$data6.message) || 'Deletado com sucesso!',\n          icon: \"success\"\n        });\n        if (this._isMounted) this.setState({\n          page: 1\n        }, () => this.getCasal());\n      } catch (err) {\n        var _err$response2, _err$response2$data;\n\n        const msg = (err === null || err === void 0 ? void 0 : (_err$response2 = err.response) === null || _err$response2 === void 0 ? void 0 : (_err$response2$data = _err$response2.data) === null || _err$response2$data === void 0 ? void 0 : _err$response2$data.errorMessage) || err.message || 'Erro ao deletar';\n        swal({\n          text: msg,\n          icon: \"error\"\n        });\n      }\n    };\n\n    this.pageChange = (e, page) => {\n      if (this._isMounted) this.setState({\n        page\n      }, () => this.getCasal());\n    };\n\n    this.logOut = () => {\n      localStorage.removeItem('token');\n      this.props.history.push('/');\n    };\n\n    this.onChange = e => {\n      if (e.target.files && e.target.files[0]) {\n        if (this._isMounted) this.setState({\n          fileName: e.target.files[0].name\n        });\n        return;\n      }\n\n      const {\n        name,\n        value\n      } = e.target;\n\n      if (this._isMounted) {\n        this.setState({\n          [name]: value\n        }, () => {\n          if (name === 'search' && this._isMounted) {\n            this.setState({\n              page: 1\n            }, () => this.getCasal());\n          }\n        });\n      }\n    };\n\n    this.addCasal = async () => {\n      const fileInput = this.fileInputAddRef.current;\n      if (!fileInput || !fileInput.files[0]) return swal({\n        text: 'Selecione uma imagem',\n        icon: 'error'\n      });\n\n      if (!this.state.name || !this.state.desc || !this.state.tel || !this.state.niverH || !this.state.niverM) {\n        return swal({\n          text: 'Preencha todos os campos',\n          icon: 'error'\n        });\n      }\n\n      const fd = new FormData();\n      fd.append('file', fileInput.files[0]);\n      fd.append('name', this.state.name);\n      fd.append('desc', this.state.desc);\n      fd.append('tel', this.state.tel);\n      fd.append('niverH', this.state.niverH);\n      fd.append('niverM', this.state.niverM);\n\n      try {\n        var _res$data7, _res$data8;\n\n        const res = await axios.post('https://backtestmar.onrender.com/add-casal', fd, {\n          headers: {\n            'content-type': 'multipart/form-data',\n            ...this.getAuthHeaders()\n          }\n        });\n        swal({\n          text: ((_res$data7 = res.data) === null || _res$data7 === void 0 ? void 0 : _res$data7.title) || ((_res$data8 = res.data) === null || _res$data8 === void 0 ? void 0 : _res$data8.message) || 'Casal adicionado!',\n          icon: \"success\"\n        });\n\n        if (this._isMounted) {\n          this.handleCasalClose();\n          this.setState({\n            name: '',\n            desc: '',\n            tel: '',\n            niverH: '',\n            niverM: '',\n            fileName: '',\n            page: 1\n          }, () => this.getCasal());\n        }\n\n        if (fileInput) fileInput.value = null;\n      } catch (err) {\n        var _err$response3, _err$response3$data;\n\n        const msg = (err === null || err === void 0 ? void 0 : (_err$response3 = err.response) === null || _err$response3 === void 0 ? void 0 : (_err$response3$data = _err$response3.data) === null || _err$response3$data === void 0 ? void 0 : _err$response3$data.errorMessage) || err.message || 'Erro ao adicionar casal';\n        swal({\n          text: msg,\n          icon: \"error\"\n        });\n        if (this._isMounted) this.handleCasalClose();\n      }\n    };\n\n    this.updateCasal = async () => {\n      const fileInput = this.fileInputEditRef.current;\n      const id = this.state.id;\n      if (!id) return swal({\n        text: 'ID do casal ausente',\n        icon: 'error'\n      });\n      if (!this.state.name) return swal({\n        text: 'O nome é obrigatório',\n        icon: 'error'\n      });\n\n      try {\n        var _res$data9, _res$data10;\n\n        const headers = this.getAuthHeaders();\n        let res;\n\n        if (fileInput && fileInput.files[0]) {\n          const fd = new FormData();\n          fd.append('file', fileInput.files[0]);\n          fd.append('name', this.state.name);\n          fd.append('desc', this.state.desc || '');\n          fd.append('tel', this.state.tel || '');\n          fd.append('niverH', this.state.niverH || '');\n          fd.append('niverM', this.state.niverM || '');\n          res = await axios.put(`https://backtestmar.onrender.com/update-casal/${id}`, fd, {\n            headers: { ...headers,\n              'content-type': 'multipart/form-data'\n            }\n          });\n        } else {\n          const data = {\n            name: this.state.name,\n            desc: this.state.desc || '',\n            tel: this.state.tel || '',\n            niverH: this.state.niverH || '',\n            niverM: this.state.niverM || ''\n          };\n          res = await axios.put(`https://backtestmar.onrender.com/update-casal/${id}`, data, {\n            headers\n          });\n        }\n\n        swal({\n          text: ((_res$data9 = res.data) === null || _res$data9 === void 0 ? void 0 : _res$data9.title) || ((_res$data10 = res.data) === null || _res$data10 === void 0 ? void 0 : _res$data10.message) || 'Atualizado!',\n          icon: \"success\"\n        });\n\n        if (this._isMounted) {\n          this.handleCasaltEditClose();\n          this.setState({\n            name: '',\n            desc: '',\n            tel: '',\n            niverH: '',\n            niverM: '',\n            fileName: ''\n          }, () => this.getCasal());\n        }\n\n        if (fileInput) fileInput.value = null;\n      } catch (err) {\n        var _err$response4, _err$response4$data;\n\n        const msg = (err === null || err === void 0 ? void 0 : (_err$response4 = err.response) === null || _err$response4 === void 0 ? void 0 : (_err$response4$data = _err$response4.data) === null || _err$response4$data === void 0 ? void 0 : _err$response4$data.errorMessage) || err.message || 'Erro ao atualizar';\n        swal({\n          text: msg,\n          icon: 'error'\n        });\n        if (this._isMounted) this.handleCasaltEditClose();\n      }\n    };\n\n    this.handleCasalOpen = () => {\n      if (this._isMounted) {\n        this.setState({\n          openCasalModal: true,\n          id: '',\n          name: '',\n          desc: '',\n          tel: '',\n          niverH: '',\n          niverM: '',\n          fileName: ''\n        }, () => {\n          if (this.fileInputAddRef.current) this.fileInputAddRef.current.value = null;\n        });\n      }\n    };\n\n    this.handleCasalClose = () => {\n      if (this._isMounted) this.setState({\n        openCasalModal: false\n      });\n    };\n\n    this.handleCasalEditOpen = data => {\n      if (this._isMounted) {\n        this.setState({\n          openCasalEditModal: true,\n          id: data._id,\n          name: data.name,\n          desc: data.desc,\n          tel: data.tel,\n          niverH: data.niverH ? data.niverH.substring(0, 10) : '',\n          niverM: data.niverM ? data.niverM.substring(0, 10) : '',\n          fileName: data.image || ''\n        }, () => {\n          if (this.fileInputEditRef.current) this.fileInputEditRef.current.value = null;\n        });\n      }\n    };\n\n    this.handleCasaltEditClose = () => {\n      if (this._isMounted) this.setState({\n        openCasalEditModal: false\n      });\n    };\n\n    this.state = {\n      token: null,\n      openCasalModal: false,\n      openCasalEditModal: false,\n      id: '',\n      name: '',\n      desc: '',\n      tel: '',\n      niverH: '',\n      niverM: '',\n      fileName: '',\n      page: 1,\n      search: '',\n      casais: [],\n      pages: 0,\n      loading: false\n    };\n    this.fileInputAddRef = React.createRef();\n    this.fileInputEditRef = React.createRef();\n  }\n\n  componentWillUnmount() {\n    this._isMounted = false;\n  }\n\n  render() {\n    const {\n      casais,\n      loading,\n      page,\n      pages\n    } = this.state;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 240,\n        columnNumber: 7\n      }\n    }, loading && /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        display: 'flex',\n        justifyContent: 'center',\n        margin: 8\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 241,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(CircularProgress, {\n      color: \"inherit\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 241,\n        columnNumber: 91\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        display: 'flex',\n        justifyContent: 'space-between',\n        alignItems: 'center',\n        marginBottom: 8\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 243,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"h2\", {\n      style: {\n        margin: 0\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 244,\n        columnNumber: 11\n      }\n    }, \"CELULAS DE CASAIS\"), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 245,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      variant: \"contained\",\n      color: \"primary\",\n      size: \"small\",\n      onClick: this.handleCasalOpen,\n      style: {\n        marginRight: 8\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 246,\n        columnNumber: 13\n      }\n    }, \"Adicionar Casais\"), /*#__PURE__*/React.createElement(Button, {\n      variant: \"contained\",\n      size: \"small\",\n      onClick: this.logOut,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 247,\n        columnNumber: 13\n      }\n    }, \"Sair\"))), /*#__PURE__*/React.createElement(Dialog, {\n      open: this.state.openCasalEditModal,\n      onClose: this.handleCasaltEditClose,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 252,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(DialogTitle, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 253,\n        columnNumber: 11\n      }\n    }, \"Editar Casais\"), /*#__PURE__*/React.createElement(DialogContent, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 254,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(TextField, {\n      name: \"name\",\n      value: this.state.name,\n      onChange: this.onChange,\n      placeholder: \"Nome Casal\",\n      fullWidth: true,\n      margin: \"dense\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 255,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(TextField, {\n      name: \"desc\",\n      value: this.state.desc,\n      onChange: this.onChange,\n      placeholder: \"Descri\\xE7\\xE3o\",\n      fullWidth: true,\n      margin: \"dense\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 256,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(TextField, {\n      name: \"tel\",\n      value: this.state.tel,\n      onChange: this.onChange,\n      placeholder: \"Contato\",\n      fullWidth: true,\n      margin: \"dense\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 257,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(TextField, {\n      type: \"date\",\n      name: \"niverH\",\n      value: this.state.niverH,\n      onChange: this.onChange,\n      placeholder: \"Aniversario Homem\",\n      fullWidth: true,\n      margin: \"dense\",\n      InputLabelProps: {\n        shrink: true\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 258,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(TextField, {\n      type: \"date\",\n      name: \"niverM\",\n      value: this.state.niverM,\n      onChange: this.onChange,\n      placeholder: \"Aniversario Mulher\",\n      fullWidth: true,\n      margin: \"dense\",\n      InputLabelProps: {\n        shrink: true\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 259,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        marginTop: 12\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 260,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      ref: this.fileInputEditRef,\n      type: \"file\",\n      accept: \"image/*\",\n      onChange: this.onChange,\n      style: {\n        display: 'inline-block'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 261,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(\"span\", {\n      style: {\n        marginLeft: 8\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 262,\n        columnNumber: 15\n      }\n    }, this.state.fileName))), /*#__PURE__*/React.createElement(DialogActions, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 265,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      onClick: this.handleCasaltEditClose,\n      color: \"primary\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 266,\n        columnNumber: 13\n      }\n    }, \"Cancelar\"), /*#__PURE__*/React.createElement(Button, {\n      disabled: !this.state.name || !this.state.desc || !this.state.tel || !this.state.niverH || !this.state.niverM,\n      onClick: this.updateCasal,\n      color: \"primary\",\n      autoFocus: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 267,\n        columnNumber: 13\n      }\n    }, \"Editar Casais\"))), /*#__PURE__*/React.createElement(Dialog, {\n      open: this.state.openCasalModal,\n      onClose: this.handleCasalClose,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 276,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(DialogTitle, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 277,\n        columnNumber: 11\n      }\n    }, \"Adicionar Casais\"), /*#__PURE__*/React.createElement(DialogContent, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 278,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(TextField, {\n      name: \"name\",\n      value: this.state.name,\n      onChange: this.onChange,\n      placeholder: \"Nome Casais\",\n      fullWidth: true,\n      margin: \"dense\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 279,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(TextField, {\n      name: \"desc\",\n      value: this.state.desc,\n      onChange: this.onChange,\n      placeholder: \"Descri\\xE7\\xE3o\",\n      fullWidth: true,\n      margin: \"dense\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 280,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(TextField, {\n      name: \"tel\",\n      value: this.state.tel,\n      onChange: this.onChange,\n      placeholder: \"Contato\",\n      fullWidth: true,\n      margin: \"dense\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 281,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(TextField, {\n      type: \"date\",\n      name: \"niverH\",\n      value: this.state.niverH,\n      onChange: this.onChange,\n      placeholder: \"Aniversario Homem\",\n      fullWidth: true,\n      margin: \"dense\",\n      InputLabelProps: {\n        shrink: true\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 282,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(TextField, {\n      type: \"date\",\n      name: \"niverM\",\n      value: this.state.niverM,\n      onChange: this.onChange,\n      placeholder: \"Aniversario Mulher\",\n      fullWidth: true,\n      margin: \"dense\",\n      InputLabelProps: {\n        shrink: true\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 283,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        marginTop: 12\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 284,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      ref: this.fileInputAddRef,\n      type: \"file\",\n      accept: \"image/*\",\n      onChange: this.onChange,\n      style: {\n        display: 'inline-block'\n      },\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 285,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(\"span\", {\n      style: {\n        marginLeft: 8\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 286,\n        columnNumber: 15\n      }\n    }, this.state.fileName))), /*#__PURE__*/React.createElement(DialogActions, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 289,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      onClick: this.handleCasalClose,\n      color: \"primary\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 290,\n        columnNumber: 13\n      }\n    }, \"Cancelar\"), /*#__PURE__*/React.createElement(Button, {\n      disabled: !this.state.name || !this.state.desc || !this.state.tel || !this.state.niverH || !this.state.niverM || !this.fileInputAddRef.current || !this.fileInputAddRef.current.files[0],\n      onClick: this.addCasal,\n      color: \"primary\",\n      autoFocus: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 291,\n        columnNumber: 13\n      }\n    }, \"Adicionar Casais\"))), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 300,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(TableContainer, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 301,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        marginBottom: 12\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 302,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(TextField, {\n      type: \"search\",\n      name: \"search\",\n      value: this.state.search,\n      onChange: this.onChange,\n      placeholder: \"Procurar Casais\",\n      variant: \"outlined\",\n      size: \"small\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 303,\n        columnNumber: 13\n      }\n    })), /*#__PURE__*/React.createElement(Table, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 306,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(TableHead, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 307,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(TableRow, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 308,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(TableCell, {\n      align: \"center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 309,\n        columnNumber: 17\n      }\n    }, \"Imagem\"), /*#__PURE__*/React.createElement(TableCell, {\n      align: \"center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 310,\n        columnNumber: 17\n      }\n    }, \"Nome Casal\"), /*#__PURE__*/React.createElement(TableCell, {\n      align: \"center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 311,\n        columnNumber: 17\n      }\n    }, \"Descri\\xE7\\xE3o\"), /*#__PURE__*/React.createElement(TableCell, {\n      align: \"center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 312,\n        columnNumber: 17\n      }\n    }, \"Contato\"), /*#__PURE__*/React.createElement(TableCell, {\n      align: \"center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 313,\n        columnNumber: 17\n      }\n    }, \"Aniversario Homem\"), /*#__PURE__*/React.createElement(TableCell, {\n      align: \"center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 314,\n        columnNumber: 17\n      }\n    }, \"Aniversario Mulher\"), /*#__PURE__*/React.createElement(TableCell, {\n      align: \"center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 315,\n        columnNumber: 17\n      }\n    }, \"A\\xE7\\xE3o\"))), /*#__PURE__*/React.createElement(TableBody, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 318,\n        columnNumber: 13\n      }\n    }, casais.map(row => /*#__PURE__*/React.createElement(TableRow, {\n      key: row._id || row.name,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 320,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(TableCell, {\n      align: \"center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 321,\n        columnNumber: 19\n      }\n    }, row.image ? /*#__PURE__*/React.createElement(\"img\", {\n      src: row.image,\n      alt: row.name || 'Imagem',\n      width: \"70\",\n      height: \"70\",\n      style: {\n        borderRadius: 8,\n        objectFit: 'cover'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 322,\n        columnNumber: 34\n      }\n    }) : '—'), /*#__PURE__*/React.createElement(TableCell, {\n      align: \"center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 324,\n        columnNumber: 19\n      }\n    }, row.name), /*#__PURE__*/React.createElement(TableCell, {\n      align: \"center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 325,\n        columnNumber: 19\n      }\n    }, row.desc), /*#__PURE__*/React.createElement(TableCell, {\n      align: \"center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 326,\n        columnNumber: 19\n      }\n    }, row.tel), /*#__PURE__*/React.createElement(TableCell, {\n      align: \"center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 327,\n        columnNumber: 19\n      }\n    }, row.niverH ? row.niverH.substring(0, 10) : ''), /*#__PURE__*/React.createElement(TableCell, {\n      align: \"center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 328,\n        columnNumber: 19\n      }\n    }, row.niverM ? row.niverM.substring(0, 10) : ''), /*#__PURE__*/React.createElement(TableCell, {\n      align: \"center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 329,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      variant: \"outlined\",\n      color: \"primary\",\n      size: \"small\",\n      onClick: () => this.handleCasalEditOpen(row),\n      style: {\n        marginRight: 6\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 330,\n        columnNumber: 21\n      }\n    }, \"Editar\"), /*#__PURE__*/React.createElement(Button, {\n      variant: \"outlined\",\n      color: \"secondary\",\n      size: \"small\",\n      onClick: () => this.deleteCasal(row._id),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 331,\n        columnNumber: 21\n      }\n    }, \"Deletar\")))))), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 337,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(Pagination, {\n      count: pages,\n      page: page,\n      onChange: this.pageChange,\n      color: \"primary\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 338,\n        columnNumber: 11\n      }\n    })));\n  }\n\n}","map":{"version":3,"sources":["/home/ues/Documentos/GitHub/testefrontamai/src/Dashboard.js"],"names":["React","Component","Button","TextField","Dialog","DialogActions","DialogTitle","DialogContent","TableBody","Table","TableContainer","TableHead","TableRow","TableCell","CircularProgress","Pagination","swal","axios","Dashboard","constructor","_isMounted","componentDidMount","token","localStorage","getItem","props","history","push","setState","getCasal","getAuthHeaders","t","state","Authorization","loading","data","page","search","encodeURIComponent","res","get","headers","casais","casal","pages","totalPages","err","msg","response","errorMessage","message","text","icon","deleteCasal","id","window","confirm","delete","e","post","title","pageChange","logOut","removeItem","onChange","target","files","fileName","name","value","addCasal","fileInput","fileInputAddRef","current","desc","tel","niverH","niverM","fd","FormData","append","handleCasalClose","updateCasal","fileInputEditRef","put","handleCasaltEditClose","handleCasalOpen","openCasalModal","handleCasalEditOpen","openCasalEditModal","_id","substring","image","createRef","componentWillUnmount","render","display","justifyContent","margin","alignItems","marginBottom","marginRight","shrink","marginTop","marginLeft","map","row","borderRadius","objectFit"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport {\n  Button, TextField, Dialog, DialogActions,\n  DialogTitle, DialogContent, TableBody, Table,\n  TableContainer, TableHead, TableRow, TableCell, CircularProgress,\n} from '@material-ui/core';\nimport { Pagination } from '@material-ui/lab';\nimport swal from 'sweetalert';\nimport axios from 'axios';\n\nexport default class Dashboard extends Component {\n  _isMounted = false;\n\n  constructor() {\n    super();\n    this.state = {\n      token: null,\n      openCasalModal: false,\n      openCasalEditModal: false,\n      id: '',\n      name: '',\n      desc: '',\n      tel: '',\n      niverH: '',\n      niverM: '',\n      fileName: '',\n      page: 1,\n      search: '',\n      casais: [],\n      pages: 0,\n      loading: false\n    };\n\n    this.fileInputAddRef = React.createRef();\n    this.fileInputEditRef = React.createRef();\n  }\n\n  componentDidMount = () => {\n    this._isMounted = true;\n    const token = localStorage.getItem('token');\n    if (!token) {\n      this.props.history.push('/login');\n    } else if (this._isMounted) {\n      this.setState({ token }, () => this.getCasal());\n    }\n  }\n\n  componentWillUnmount() {\n    this._isMounted = false;\n  }\n\n  getAuthHeaders = () => {\n    const t = this.state.token || localStorage.getItem('token');\n    if (!t) return {};\n    return { Authorization: `Bearer ${t}`, token: t };\n  }\n\n  getCasal = async () => {\n    if (this._isMounted) this.setState({ loading: true });\n\n    try {\n      let data = `?page=${this.state.page}`;\n      if (this.state.search) data += `&search=${encodeURIComponent(this.state.search)}`;\n\n      const res = await axios.get(`https://backtestmar.onrender.com/get-casal${data}`, {\n        headers: this.getAuthHeaders()\n      });\n\n      const casais = res.data?.casais ?? res.data?.casal ?? [];\n      const pages = res.data?.pages ?? res.data?.totalPages ?? 1;\n\n      if (this._isMounted) this.setState({ loading: false, casais, pages });\n    } catch (err) {\n      const msg = err?.response?.data?.errorMessage || err.message || 'Erro ao buscar casais';\n      swal({ text: msg, icon: \"error\" });\n      if (this._isMounted) this.setState({ loading: false, casais: [], pages: 0 });\n    }\n  }\n\n  deleteCasal = async (id) => {\n    if (!window.confirm('Tem certeza que deseja excluir este casal?')) return;\n\n    try {\n      const headers = { 'Content-Type': 'application/json', ...this.getAuthHeaders() };\n      let res;\n      try {\n        res = await axios.delete(`https://backtestmar.onrender.com/delete-casal/${id}`, { headers });\n      } catch (e) {\n        res = await axios.post('https://backtestmar.onrender.com/delete-casal', { id }, { headers });\n      }\n\n      swal({ text: res.data?.title || res.data?.message || 'Deletado com sucesso!', icon: \"success\" });\n      if (this._isMounted) this.setState({ page: 1 }, () => this.getCasal());\n    } catch (err) {\n      const msg = err?.response?.data?.errorMessage || err.message || 'Erro ao deletar';\n      swal({ text: msg, icon: \"error\" });\n    }\n  }\n\n  pageChange = (e, page) => {\n    if (this._isMounted) this.setState({ page }, () => this.getCasal());\n  }\n\n  logOut = () => {\n    localStorage.removeItem('token');\n    this.props.history.push('/');\n  }\n\n  onChange = (e) => {\n    if (e.target.files && e.target.files[0]) {\n      if (this._isMounted) this.setState({ fileName: e.target.files[0].name });\n      return;\n    }\n\n    const { name, value } = e.target;\n    if (this._isMounted) {\n      this.setState({ [name]: value }, () => {\n        if (name === 'search' && this._isMounted) {\n          this.setState({ page: 1 }, () => this.getCasal());\n        }\n      });\n    }\n  };\n\n  addCasal = async () => {\n    const fileInput = this.fileInputAddRef.current;\n    if (!fileInput || !fileInput.files[0]) return swal({ text: 'Selecione uma imagem', icon: 'error' });\n\n    if (!this.state.name || !this.state.desc || !this.state.tel || !this.state.niverH || !this.state.niverM) {\n      return swal({ text: 'Preencha todos os campos', icon: 'error' });\n    }\n\n    const fd = new FormData();\n    fd.append('file', fileInput.files[0]);\n    fd.append('name', this.state.name);\n    fd.append('desc', this.state.desc);\n    fd.append('tel', this.state.tel);\n    fd.append('niverH', this.state.niverH);\n    fd.append('niverM', this.state.niverM);\n\n    try {\n      const res = await axios.post('https://backtestmar.onrender.com/add-casal', fd, {\n        headers: { 'content-type': 'multipart/form-data', ...this.getAuthHeaders() }\n      });\n\n      swal({ text: res.data?.title || res.data?.message || 'Casal adicionado!', icon: \"success\" });\n\n      if (this._isMounted) {\n        this.handleCasalClose();\n        this.setState({ name: '', desc: '', tel: '', niverH: '', niverM: '', fileName: '', page: 1 }, () => this.getCasal());\n      }\n      if (fileInput) fileInput.value = null;\n    } catch (err) {\n      const msg = err?.response?.data?.errorMessage || err.message || 'Erro ao adicionar casal';\n      swal({ text: msg, icon: \"error\" });\n      if (this._isMounted) this.handleCasalClose();\n    }\n  }\n\n  updateCasal = async () => {\n    const fileInput = this.fileInputEditRef.current;\n    const id = this.state.id;\n    if (!id) return swal({ text: 'ID do casal ausente', icon: 'error' });\n    if (!this.state.name) return swal({ text: 'O nome é obrigatório', icon: 'error' });\n\n    try {\n      const headers = this.getAuthHeaders();\n      let res;\n\n      if (fileInput && fileInput.files[0]) {\n        const fd = new FormData();\n        fd.append('file', fileInput.files[0]);\n        fd.append('name', this.state.name);\n        fd.append('desc', this.state.desc || '');\n        fd.append('tel', this.state.tel || '');\n        fd.append('niverH', this.state.niverH || '');\n        fd.append('niverM', this.state.niverM || '');\n\n        res = await axios.put(`https://backtestmar.onrender.com/update-casal/${id}`, fd, {\n          headers: { ...headers, 'content-type': 'multipart/form-data' }\n        });\n      } else {\n        const data = {\n          name: this.state.name,\n          desc: this.state.desc || '',\n          tel: this.state.tel || '',\n          niverH: this.state.niverH || '',\n          niverM: this.state.niverM || ''\n        };\n\n        res = await axios.put(`https://backtestmar.onrender.com/update-casal/${id}`, data, { headers });\n      }\n\n      swal({ text: res.data?.title || res.data?.message || 'Atualizado!', icon: \"success\" });\n\n      if (this._isMounted) {\n        this.handleCasaltEditClose();\n        this.setState({ name: '', desc: '', tel: '', niverH: '', niverM: '', fileName: '' }, () => this.getCasal());\n      }\n      if (fileInput) fileInput.value = null;\n    } catch (err) {\n      const msg = err?.response?.data?.errorMessage || err.message || 'Erro ao atualizar';\n      swal({ text: msg, icon: 'error' });\n      if (this._isMounted) this.handleCasaltEditClose();\n    }\n  }\n\n  handleCasalOpen = () => {\n    if (this._isMounted) {\n      this.setState({\n        openCasalModal: true,\n        id: '', name: '', desc: '', tel: '', niverH: '', niverM: '', fileName: ''\n      }, () => { if (this.fileInputAddRef.current) this.fileInputAddRef.current.value = null; });\n    }\n  }\n\n  handleCasalClose = () => { if (this._isMounted) this.setState({ openCasalModal: false }); }\n\n  handleCasalEditOpen = (data) => {\n    if (this._isMounted) {\n      this.setState({\n        openCasalEditModal: true,\n        id: data._id,\n        name: data.name,\n        desc: data.desc,\n        tel: data.tel,\n        niverH: data.niverH ? data.niverH.substring(0, 10) : '',\n        niverM: data.niverM ? data.niverM.substring(0, 10) : '',\n        fileName: data.image || ''\n      }, () => { if (this.fileInputEditRef.current) this.fileInputEditRef.current.value = null; });\n    }\n  }\n\n  handleCasaltEditClose = () => { if (this._isMounted) this.setState({ openCasalEditModal: false }); }\n\n  render() {\n    const { casais, loading, page, pages } = this.state;\n\n    return (\n      <div>\n        {loading && <div style={{ display: 'flex', justifyContent: 'center', margin: 8 }}><CircularProgress color=\"inherit\" /></div>}\n\n        <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', marginBottom: 8 }}>\n          <h2 style={{ margin: 0 }}>CELULAS DE CASAIS</h2>\n          <div>\n            <Button variant=\"contained\" color=\"primary\" size=\"small\" onClick={this.handleCasalOpen} style={{ marginRight: 8 }}>Adicionar Casais</Button>\n            <Button variant=\"contained\" size=\"small\" onClick={this.logOut}>Sair</Button>\n          </div>\n        </div>\n\n        {/* Modais */}\n        <Dialog open={this.state.openCasalEditModal} onClose={this.handleCasaltEditClose}>\n          <DialogTitle>Editar Casais</DialogTitle>\n          <DialogContent>\n            <TextField name=\"name\" value={this.state.name} onChange={this.onChange} placeholder=\"Nome Casal\" fullWidth margin=\"dense\" />\n            <TextField name=\"desc\" value={this.state.desc} onChange={this.onChange} placeholder=\"Descrição\" fullWidth margin=\"dense\" />\n            <TextField name=\"tel\" value={this.state.tel} onChange={this.onChange} placeholder=\"Contato\" fullWidth margin=\"dense\" />\n            <TextField type=\"date\" name=\"niverH\" value={this.state.niverH} onChange={this.onChange} placeholder=\"Aniversario Homem\" fullWidth margin=\"dense\" InputLabelProps={{ shrink: true }} />\n            <TextField type=\"date\" name=\"niverM\" value={this.state.niverM} onChange={this.onChange} placeholder=\"Aniversario Mulher\" fullWidth margin=\"dense\" InputLabelProps={{ shrink: true }} />\n            <div style={{ marginTop: 12 }}>\n              <input ref={this.fileInputEditRef} type=\"file\" accept=\"image/*\" onChange={this.onChange} style={{ display: 'inline-block' }} />\n              <span style={{ marginLeft: 8 }}>{this.state.fileName}</span>\n            </div>\n          </DialogContent>\n          <DialogActions>\n            <Button onClick={this.handleCasaltEditClose} color=\"primary\">Cancelar</Button>\n            <Button\n              disabled={!this.state.name || !this.state.desc || !this.state.tel || !this.state.niverH || !this.state.niverM}\n              onClick={this.updateCasal}\n              color=\"primary\"\n              autoFocus\n            >Editar Casais</Button>\n          </DialogActions>\n        </Dialog>\n\n        <Dialog open={this.state.openCasalModal} onClose={this.handleCasalClose}>\n          <DialogTitle>Adicionar Casais</DialogTitle>\n          <DialogContent>\n            <TextField name=\"name\" value={this.state.name} onChange={this.onChange} placeholder=\"Nome Casais\" fullWidth margin=\"dense\" />\n            <TextField name=\"desc\" value={this.state.desc} onChange={this.onChange} placeholder=\"Descrição\" fullWidth margin=\"dense\" />\n            <TextField name=\"tel\" value={this.state.tel} onChange={this.onChange} placeholder=\"Contato\" fullWidth margin=\"dense\" />\n            <TextField type=\"date\" name=\"niverH\" value={this.state.niverH} onChange={this.onChange} placeholder=\"Aniversario Homem\" fullWidth margin=\"dense\" InputLabelProps={{ shrink: true }} />\n            <TextField type=\"date\" name=\"niverM\" value={this.state.niverM} onChange={this.onChange} placeholder=\"Aniversario Mulher\" fullWidth margin=\"dense\" InputLabelProps={{ shrink: true }} />\n            <div style={{ marginTop: 12 }}>\n              <input ref={this.fileInputAddRef} type=\"file\" accept=\"image/*\" onChange={this.onChange} style={{ display: 'inline-block' }} required />\n              <span style={{ marginLeft: 8 }}>{this.state.fileName}</span>\n            </div>\n          </DialogContent>\n          <DialogActions>\n            <Button onClick={this.handleCasalClose} color=\"primary\">Cancelar</Button>\n            <Button\n              disabled={!this.state.name || !this.state.desc || !this.state.tel || !this.state.niverH || !this.state.niverM || (!this.fileInputAddRef.current || !this.fileInputAddRef.current.files[0])}\n              onClick={this.addCasal}\n              color=\"primary\"\n              autoFocus\n            >Adicionar Casais</Button>\n          </DialogActions>\n        </Dialog>\n\n        <br />\n        <TableContainer>\n          <div style={{ marginBottom: 12 }}>\n            <TextField type=\"search\" name=\"search\" value={this.state.search} onChange={this.onChange} placeholder=\"Procurar Casais\" variant=\"outlined\" size=\"small\" />\n          </div>\n\n          <Table>\n            <TableHead>\n              <TableRow>\n                <TableCell align=\"center\">Imagem</TableCell>\n                <TableCell align=\"center\">Nome Casal</TableCell>\n                <TableCell align=\"center\">Descrição</TableCell>\n                <TableCell align=\"center\">Contato</TableCell>\n                <TableCell align=\"center\">Aniversario Homem</TableCell>\n                <TableCell align=\"center\">Aniversario Mulher</TableCell>\n                <TableCell align=\"center\">Ação</TableCell>\n              </TableRow>\n            </TableHead>\n            <TableBody>\n              {casais.map((row) => (\n                <TableRow key={row._id || row.name}>\n                  <TableCell align=\"center\">\n                    {row.image ? <img src={row.image} alt={row.name || 'Imagem'} width=\"70\" height=\"70\" style={{ borderRadius: 8, objectFit: 'cover' }} /> : '—'}\n                  </TableCell>\n                  <TableCell align=\"center\">{row.name}</TableCell>\n                  <TableCell align=\"center\">{row.desc}</TableCell>\n                  <TableCell align=\"center\">{row.tel}</TableCell>\n                  <TableCell align=\"center\">{row.niverH ? row.niverH.substring(0, 10) : ''}</TableCell>\n                  <TableCell align=\"center\">{row.niverM ? row.niverM.substring(0, 10) : ''}</TableCell>\n                  <TableCell align=\"center\">\n                    <Button variant=\"outlined\" color=\"primary\" size=\"small\" onClick={() => this.handleCasalEditOpen(row)} style={{ marginRight: 6 }}>Editar</Button>\n                    <Button variant=\"outlined\" color=\"secondary\" size=\"small\" onClick={() => this.deleteCasal(row._id)}>Deletar</Button>\n                  </TableCell>\n                </TableRow>\n              ))}\n            </TableBody>\n          </Table>\n          <br />\n          <Pagination count={pages} page={page} onChange={this.pageChange} color=\"primary\" />\n        </TableContainer>\n      </div>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}