{"ast":null,"code":"var _jsxFileName = \"/home/ues/Documentos/GitHub/testefrontamai/src/Dashboard.js\";\nimport React, { Component } from 'react';\nimport { Button, TextField, Dialog, DialogActions, DialogTitle, DialogContent, TableBody, Table, TableContainer, TableHead, TableRow, TableCell, CircularProgress } from '@material-ui/core';\nimport { Pagination } from '@material-ui/lab';\nimport swal from 'sweetalert';\nimport axios from 'axios';\nimport pdfMake from \"pdfmake/build/pdfmake\";\nimport pdfFonts from \"pdfmake/build/vfs_fonts\";\nimport { CSVLink } from \"react-csv\";\nimport \"./Dashboard.css\"; // Configuração correta do pdfMake\n\npdfMake.vfs = pdfFonts.vfs;\nexport default class Dashboard extends Component {\n  constructor() {\n    super();\n    this._isMounted = false;\n\n    this.componentDidMount = () => {\n      this._isMounted = true;\n      const token = localStorage.getItem('token');\n\n      if (!token) {\n        this.props.history.push('/login');\n      } else {\n        this.setState({\n          token\n        }, () => this.getCasal());\n      }\n    };\n\n    this.getAuthHeaders = () => {\n      const t = this.state.token || localStorage.getItem('token');\n      if (!t) return {};\n      return {\n        Authorization: `Bearer ${t}`,\n        token: t\n      };\n    };\n\n    this.getCasal = async () => {\n      if (this._isMounted) this.setState({\n        loading: true\n      });\n\n      try {\n        var _ref, _res$data$casais, _res$data, _res$data2, _ref2, _res$data$pages, _res$data3, _res$data4;\n\n        let data = `?page=${this.state.page}`;\n        if (this.state.search) data += `&search=${encodeURIComponent(this.state.search)}`;\n        const res = await axios.get(`https://backtestmar.onrender.com/get-casal${data}`, {\n          headers: this.getAuthHeaders()\n        });\n        const casais = (_ref = (_res$data$casais = (_res$data = res.data) === null || _res$data === void 0 ? void 0 : _res$data.casais) !== null && _res$data$casais !== void 0 ? _res$data$casais : (_res$data2 = res.data) === null || _res$data2 === void 0 ? void 0 : _res$data2.casal) !== null && _ref !== void 0 ? _ref : [];\n        const pages = (_ref2 = (_res$data$pages = (_res$data3 = res.data) === null || _res$data3 === void 0 ? void 0 : _res$data3.pages) !== null && _res$data$pages !== void 0 ? _res$data$pages : (_res$data4 = res.data) === null || _res$data4 === void 0 ? void 0 : _res$data4.totalPages) !== null && _ref2 !== void 0 ? _ref2 : 1;\n        if (this._isMounted) this.setState({\n          loading: false,\n          casais,\n          pages\n        });\n      } catch (err) {\n        var _err$response, _err$response$data;\n\n        swal({\n          text: (err === null || err === void 0 ? void 0 : (_err$response = err.response) === null || _err$response === void 0 ? void 0 : (_err$response$data = _err$response.data) === null || _err$response$data === void 0 ? void 0 : _err$response$data.errorMessage) || 'Erro ao buscar casais',\n          icon: \"error\"\n        });\n        if (this._isMounted) this.setState({\n          loading: false,\n          casais: [],\n          pages: 0\n        });\n      }\n    };\n\n    this.deleteCasal = async id => {\n      if (!window.confirm('Tem certeza que deseja excluir este casal?')) return;\n\n      try {\n        const headers = {\n          'Content-Type': 'application/json',\n          ...this.getAuthHeaders()\n        };\n        let res;\n\n        try {\n          res = await axios.delete(`https://backtestmar.onrender.com/delete-casal/${id}`, {\n            headers\n          });\n        } catch (e) {\n          res = await axios.post('https://backtestmar.onrender.com/delete-casal', {\n            id\n          }, {\n            headers\n          });\n        }\n\n        swal({\n          text: 'Deletado com sucesso!',\n          icon: \"success\"\n        });\n        if (this._isMounted) this.setState({\n          page: 1\n        }, () => this.getCasal());\n      } catch (err) {\n        swal({\n          text: 'Erro ao deletar',\n          icon: 'error'\n        });\n      }\n    };\n\n    this.pageChange = (e, page) => this.setState({\n      page\n    }, () => this.getCasal());\n\n    this.logOut = () => {\n      localStorage.removeItem('token');\n      this.props.history.push('/');\n    };\n\n    this.onChange = e => {\n      if (e.target.files && e.target.files[0]) {\n        const file = e.target.files[0];\n        this.setState({\n          fileName: file.name,\n          filePreview: URL.createObjectURL(file)\n        });\n        return;\n      }\n\n      const {\n        name,\n        value\n      } = e.target;\n      this.setState({\n        [name]: value\n      }, () => {\n        if (name === 'search') {\n          this.setState({\n            page: 1\n          }, () => this.getCasal());\n        }\n      });\n    };\n\n    this.addCasal = async () => {\n      const fileInput = this.fileInputAddRef.current;\n\n      if (!fileInput || !fileInput.files[0]) {\n        return swal({\n          text: 'Selecione uma imagem',\n          icon: 'error'\n        });\n      }\n\n      if (!this.state.name || !this.state.desc || !this.state.tel || !this.state.niverH || !this.state.niverM) {\n        return swal({\n          text: 'Preencha todos os campos',\n          icon: 'error'\n        });\n      }\n\n      const fd = new FormData();\n      fd.append('file', fileInput.files[0]);\n      fd.append('name', this.state.name);\n      fd.append('desc', this.state.desc);\n      fd.append('tel', this.state.tel);\n      fd.append('niverH', this.state.niverH);\n      fd.append('niverM', this.state.niverM);\n\n      try {\n        const res = await axios.post('https://backtestmar.onrender.com/add-casal', fd, {\n          headers: {\n            'content-type': 'multipart/form-data',\n            ...this.getAuthHeaders()\n          }\n        });\n        swal({\n          text: 'Casal adicionado!',\n          icon: \"success\"\n        });\n        this.setState({\n          openCasalModal: false,\n          name: '',\n          desc: '',\n          tel: '',\n          niverH: '',\n          niverM: '',\n          fileName: '',\n          filePreview: '',\n          page: 1\n        }, () => this.getCasal());\n        fileInput.value = null;\n      } catch (err) {\n        swal({\n          text: 'Erro ao adicionar',\n          icon: \"error\"\n        });\n      }\n    };\n\n    this.updateCasal = async () => {\n      const fileInput = this.fileInputEditRef.current;\n      const id = this.state.id;\n      if (!id) return swal({\n        text: 'ID ausente',\n        icon: 'error'\n      });\n\n      if (!this.state.name || !this.state.desc || !this.state.tel || !this.state.niverH || !this.state.niverM) {\n        return swal({\n          text: 'Preencha os campos',\n          icon: 'error'\n        });\n      }\n\n      const fd = new FormData();\n      fd.append('name', this.state.name);\n      fd.append('desc', this.state.desc);\n      fd.append('tel', this.state.tel);\n      fd.append('niverH', this.state.niverH);\n      fd.append('niverM', this.state.niverM);\n      if (fileInput.files[0]) fd.append('file', fileInput.files[0]);\n\n      try {\n        const res = await axios.put(`https://backtestmar.onrender.com/update-casal/${id}`, fd, {\n          headers: {\n            'content-type': 'multipart/form-data',\n            ...this.getAuthHeaders()\n          }\n        });\n        swal({\n          text: 'Atualizado!',\n          icon: 'success'\n        });\n        this.setState({\n          openCasalEditModal: false,\n          name: '',\n          desc: '',\n          tel: '',\n          niverH: '',\n          niverM: '',\n          fileName: ''\n        }, () => this.getCasal());\n        fileInput.value = null;\n      } catch (err) {\n        swal({\n          text: 'Erro ao atualizar',\n          icon: 'error'\n        });\n      }\n    };\n\n    this.handleCasalOpen = () => {\n      this.setState({\n        openCasalModal: true,\n        id: '',\n        name: '',\n        desc: '',\n        tel: '',\n        niverH: '',\n        niverM: '',\n        fileName: '',\n        filePreview: ''\n      });\n      if (this.fileInputAddRef.current) this.fileInputAddRef.current.value = null;\n    };\n\n    this.handleCasalClose = () => this.setState({\n      openCasalModal: false\n    });\n\n    this.handleCasalEditOpen = data => {\n      var _data$niverH, _data$niverM;\n\n      this.setState({\n        openCasalEditModal: true,\n        id: data._id,\n        name: data.name,\n        desc: data.desc,\n        tel: data.tel,\n        niverH: (_data$niverH = data.niverH) === null || _data$niverH === void 0 ? void 0 : _data$niverH.substring(0, 10),\n        niverM: (_data$niverM = data.niverM) === null || _data$niverM === void 0 ? void 0 : _data$niverM.substring(0, 10),\n        fileName: data.image,\n        filePreview: data.image\n      });\n    };\n\n    this.handleCasaltEditClose = () => this.setState({\n      openCasalEditModal: false\n    });\n\n    this.generatePDF = () => {\n      const {\n        casais\n      } = this.state;\n      const body = [['Nome Casal', 'Descrição', 'Contato', 'Niver Homem', 'Niver Mulher']];\n      casais.forEach(c => {\n        var _c$niverH, _c$niverM;\n\n        body.push([c.name, c.desc, c.tel, ((_c$niverH = c.niverH) === null || _c$niverH === void 0 ? void 0 : _c$niverH.substring(0, 10)) || '', ((_c$niverM = c.niverM) === null || _c$niverM === void 0 ? void 0 : _c$niverM.substring(0, 10)) || '']);\n      });\n      const docDefinition = {\n        content: [{\n          text: 'Lista de Casais',\n          style: 'header'\n        }, {\n          table: {\n            headerRows: 1,\n            widths: ['*', '*', '*', '*', '*'],\n            body\n          }\n        }],\n        styles: {\n          header: {\n            fontSize: 18,\n            bold: true,\n            margin: [0, 0, 0, 10]\n          }\n        }\n      };\n      pdfMake.createPdf(docDefinition).download('casais.pdf');\n    };\n\n    this.state = {\n      token: null,\n      openCasalModal: false,\n      openCasalEditModal: false,\n      id: '',\n      name: '',\n      desc: '',\n      tel: '',\n      niverH: '',\n      niverM: '',\n      fileName: '',\n      filePreview: '',\n      page: 1,\n      search: '',\n      casais: [],\n      pages: 0,\n      loading: false\n    };\n    this.fileInputAddRef = React.createRef();\n    this.fileInputEditRef = React.createRef();\n  }\n\n  componentWillUnmount() {\n    this._isMounted = false;\n  }\n\n  render() {\n    var _this$fileInputAddRef;\n\n    const {\n      casais,\n      loading,\n      page,\n      pages,\n      filePreview\n    } = this.state;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"dashboard-container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 287,\n        columnNumber: 7\n      }\n    }, loading && /*#__PURE__*/React.createElement(\"div\", {\n      className: \"loading-container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 290,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(CircularProgress, {\n      color: \"inherit\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 291,\n        columnNumber: 13\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"top-bar\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 296,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"h2\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 297,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"center\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 297,\n        columnNumber: 15\n      }\n    }, \"CELULAS DE CASAIS\")), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 298,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      variant: \"contained\",\n      color: \"primary\",\n      size: \"small\",\n      onClick: this.handleCasalOpen,\n      className: \"btn-space\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 299,\n        columnNumber: 13\n      }\n    }, \"Adic.Casal\"), /*#__PURE__*/React.createElement(Button, {\n      variant: \"contained\",\n      color: \"default\",\n      size: \"small\",\n      onClick: this.generatePDF,\n      className: \"btn-space\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 302,\n        columnNumber: 13\n      }\n    }, \"PDF\"), /*#__PURE__*/React.createElement(CSVLink, {\n      data: casais.map(c => {\n        var _c$niverH2, _c$niverM2;\n\n        return {\n          Nome: c.name,\n          Descrição: c.desc,\n          Contato: c.tel,\n          Aniversario_Homem: ((_c$niverH2 = c.niverH) === null || _c$niverH2 === void 0 ? void 0 : _c$niverH2.substring(0, 10)) || '',\n          Aniversario_Mulher: ((_c$niverM2 = c.niverM) === null || _c$niverM2 === void 0 ? void 0 : _c$niverM2.substring(0, 10)) || ''\n        };\n      }),\n      filename: \"casais.csv\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 306,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      variant: \"contained\",\n      color: \"default\",\n      size: \"small\",\n      className: \"btn-space\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 316,\n        columnNumber: 15\n      }\n    }, \"Excel\")), /*#__PURE__*/React.createElement(Button, {\n      variant: \"contained\",\n      size: \"small\",\n      onClick: this.logOut,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 321,\n        columnNumber: 13\n      }\n    }, \"Sair\"))), /*#__PURE__*/React.createElement(Dialog, {\n      open: this.state.openCasalModal,\n      onClose: this.handleCasalClose,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 326,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(DialogTitle, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 327,\n        columnNumber: 11\n      }\n    }, \"Adicionar Casal\"), /*#__PURE__*/React.createElement(DialogContent, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 328,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(TextField, {\n      type: \"text\",\n      name: \"name\",\n      value: this.state.name,\n      onChange: this.onChange,\n      placeholder: \"Nome Casal\",\n      fullWidth: true,\n      margin: \"dense\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 329,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(TextField, {\n      type: \"text\",\n      name: \"desc\",\n      value: this.state.desc,\n      onChange: this.onChange,\n      placeholder: \"Descri\\xE7\\xE3o\",\n      fullWidth: true,\n      margin: \"dense\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 330,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(TextField, {\n      type: \"text\",\n      name: \"tel\",\n      value: this.state.tel,\n      onChange: this.onChange,\n      placeholder: \"Telefone\",\n      fullWidth: true,\n      margin: \"dense\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 331,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(TextField, {\n      type: \"date\",\n      name: \"niverH\",\n      value: this.state.niverH,\n      onChange: this.onChange,\n      fullWidth: true,\n      margin: \"dense\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 332,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(TextField, {\n      type: \"date\",\n      name: \"niverM\",\n      value: this.state.niverM,\n      onChange: this.onChange,\n      fullWidth: true,\n      margin: \"dense\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 333,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"file-input-row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 335,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      ref: this.fileInputAddRef,\n      type: \"file\",\n      accept: \"image/*\",\n      onChange: this.onChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 336,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 337,\n        columnNumber: 15\n      }\n    }, this.state.fileName)), filePreview && /*#__PURE__*/React.createElement(\"img\", {\n      src: filePreview,\n      alt: \"Preview\",\n      className: \"preview-img\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 341,\n        columnNumber: 15\n      }\n    })), /*#__PURE__*/React.createElement(DialogActions, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 345,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      onClick: this.handleCasalClose,\n      color: \"primary\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 346,\n        columnNumber: 13\n      }\n    }, \"Cancelar\"), /*#__PURE__*/React.createElement(Button, {\n      disabled: !this.state.name || !this.state.desc || !this.state.tel || !this.state.niverH || !this.state.niverM || !((_this$fileInputAddRef = this.fileInputAddRef.current) === null || _this$fileInputAddRef === void 0 ? void 0 : _this$fileInputAddRef.files[0]),\n      onClick: this.addCasal,\n      color: \"primary\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 347,\n        columnNumber: 13\n      }\n    }, \"Salvar\"))), /*#__PURE__*/React.createElement(Dialog, {\n      open: this.state.openCasalEditModal,\n      onClose: this.handleCasaltEditClose,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 365,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(DialogTitle, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 366,\n        columnNumber: 11\n      }\n    }, \"Editar Casal\"), /*#__PURE__*/React.createElement(DialogContent, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 367,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(TextField, {\n      type: \"text\",\n      name: \"name\",\n      value: this.state.name,\n      onChange: this.onChange,\n      fullWidth: true,\n      margin: \"dense\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 368,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(TextField, {\n      type: \"text\",\n      name: \"desc\",\n      value: this.state.desc,\n      onChange: this.onChange,\n      fullWidth: true,\n      margin: \"dense\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 369,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(TextField, {\n      type: \"text\",\n      name: \"tel\",\n      value: this.state.tel,\n      onChange: this.onChange,\n      fullWidth: true,\n      margin: \"dense\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 370,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(TextField, {\n      type: \"date\",\n      name: \"niverH\",\n      value: this.state.niverH,\n      onChange: this.onChange,\n      fullWidth: true,\n      margin: \"dense\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 371,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(TextField, {\n      type: \"date\",\n      name: \"niverM\",\n      value: this.state.niverM,\n      onChange: this.onChange,\n      fullWidth: true,\n      margin: \"dense\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 372,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"file-input-row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 374,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      ref: this.fileInputEditRef,\n      type: \"file\",\n      accept: \"image/*\",\n      onChange: this.onChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 375,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 376,\n        columnNumber: 15\n      }\n    }, this.state.fileName)), filePreview && /*#__PURE__*/React.createElement(\"img\", {\n      src: filePreview,\n      alt: \"Preview\",\n      className: \"preview-img\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 380,\n        columnNumber: 15\n      }\n    })), /*#__PURE__*/React.createElement(DialogActions, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 384,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      onClick: this.handleCasaltEditClose,\n      color: \"primary\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 385,\n        columnNumber: 13\n      }\n    }, \"Cancelar\"), /*#__PURE__*/React.createElement(Button, {\n      onClick: this.updateCasal,\n      color: \"primary\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 386,\n        columnNumber: 13\n      }\n    }, \"Salvar\"))), /*#__PURE__*/React.createElement(TableContainer, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 391,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"search-box\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 392,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(TextField, {\n      type: \"search\",\n      name: \"search\",\n      value: this.state.search,\n      onChange: this.onChange,\n      placeholder: \"Procurar Casal\",\n      variant: \"outlined\",\n      size: \"small\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 393,\n        columnNumber: 13\n      }\n    })), /*#__PURE__*/React.createElement(Table, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 404,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(TableHead, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 405,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(TableRow, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 406,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(TableCell, {\n      align: \"center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 407,\n        columnNumber: 17\n      }\n    }, \"Imagem\"), /*#__PURE__*/React.createElement(TableCell, {\n      align: \"center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 408,\n        columnNumber: 17\n      }\n    }, \"Nome\"), /*#__PURE__*/React.createElement(TableCell, {\n      align: \"center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 409,\n        columnNumber: 17\n      }\n    }, \"Descri\\xE7\\xE3o\"), /*#__PURE__*/React.createElement(TableCell, {\n      align: \"center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 410,\n        columnNumber: 17\n      }\n    }, \"Contato\"), /*#__PURE__*/React.createElement(TableCell, {\n      align: \"center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 411,\n        columnNumber: 17\n      }\n    }, \"Niver Homem\"), /*#__PURE__*/React.createElement(TableCell, {\n      align: \"center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 412,\n        columnNumber: 17\n      }\n    }, \"Niver Mulher\"), /*#__PURE__*/React.createElement(TableCell, {\n      align: \"center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 413,\n        columnNumber: 17\n      }\n    }, \"A\\xE7\\xF5es\"))), /*#__PURE__*/React.createElement(TableBody, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 417,\n        columnNumber: 13\n      }\n    }, casais.map(row => {\n      var _row$niverH, _row$niverM;\n\n      return /*#__PURE__*/React.createElement(TableRow, {\n        key: row._id,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 419,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(TableCell, {\n        align: \"center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 420,\n          columnNumber: 19\n        }\n      }, row.image ? /*#__PURE__*/React.createElement(\"img\", {\n        src: row.image,\n        alt: row.name,\n        className: \"table-img\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 421,\n          columnNumber: 34\n        }\n      }) : '—'), /*#__PURE__*/React.createElement(TableCell, {\n        align: \"center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 423,\n          columnNumber: 19\n        }\n      }, row.name), /*#__PURE__*/React.createElement(TableCell, {\n        align: \"center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 424,\n          columnNumber: 19\n        }\n      }, row.desc), /*#__PURE__*/React.createElement(TableCell, {\n        align: \"center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 425,\n          columnNumber: 19\n        }\n      }, row.tel), /*#__PURE__*/React.createElement(TableCell, {\n        align: \"center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 426,\n          columnNumber: 19\n        }\n      }, (_row$niverH = row.niverH) === null || _row$niverH === void 0 ? void 0 : _row$niverH.substring(0, 10)), /*#__PURE__*/React.createElement(TableCell, {\n        align: \"center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 427,\n          columnNumber: 19\n        }\n      }, (_row$niverM = row.niverM) === null || _row$niverM === void 0 ? void 0 : _row$niverM.substring(0, 10)), /*#__PURE__*/React.createElement(TableCell, {\n        align: \"center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 428,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(Button, {\n        variant: \"outlined\",\n        color: \"primary\",\n        size: \"small\",\n        onClick: () => this.handleCasalEditOpen(row),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 429,\n          columnNumber: 21\n        }\n      }, \"Editar\"), /*#__PURE__*/React.createElement(Button, {\n        variant: \"outlined\",\n        color: \"secondary\",\n        size: \"small\",\n        onClick: () => this.deleteCasal(row._id),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 430,\n          columnNumber: 21\n        }\n      }, \"Excluir\")));\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"pagination-area\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 438,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Pagination, {\n      count: pages,\n      page: page,\n      onChange: this.pageChange,\n      color: \"primary\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 439,\n        columnNumber: 13\n      }\n    }))));\n  }\n\n}","map":{"version":3,"sources":["/home/ues/Documentos/GitHub/testefrontamai/src/Dashboard.js"],"names":["React","Component","Button","TextField","Dialog","DialogActions","DialogTitle","DialogContent","TableBody","Table","TableContainer","TableHead","TableRow","TableCell","CircularProgress","Pagination","swal","axios","pdfMake","pdfFonts","CSVLink","vfs","Dashboard","constructor","_isMounted","componentDidMount","token","localStorage","getItem","props","history","push","setState","getCasal","getAuthHeaders","t","state","Authorization","loading","data","page","search","encodeURIComponent","res","get","headers","casais","casal","pages","totalPages","err","text","response","errorMessage","icon","deleteCasal","id","window","confirm","delete","e","post","pageChange","logOut","removeItem","onChange","target","files","file","fileName","name","filePreview","URL","createObjectURL","value","addCasal","fileInput","fileInputAddRef","current","desc","tel","niverH","niverM","fd","FormData","append","openCasalModal","updateCasal","fileInputEditRef","put","openCasalEditModal","handleCasalOpen","handleCasalClose","handleCasalEditOpen","_id","substring","image","handleCasaltEditClose","generatePDF","body","forEach","c","docDefinition","content","style","table","headerRows","widths","styles","header","fontSize","bold","margin","createPdf","download","createRef","componentWillUnmount","render","map","Nome","Descrição","Contato","Aniversario_Homem","Aniversario_Mulher","row"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport {\n  Button, TextField, Dialog, DialogActions,\n  DialogTitle, DialogContent, TableBody, Table,\n  TableContainer, TableHead, TableRow, TableCell, CircularProgress,\n} from '@material-ui/core';\nimport { Pagination } from '@material-ui/lab';\nimport swal from 'sweetalert';\nimport axios from 'axios';\nimport pdfMake from \"pdfmake/build/pdfmake\";\nimport pdfFonts from \"pdfmake/build/vfs_fonts\";\nimport { CSVLink } from \"react-csv\";\nimport \"./Dashboard.css\";\n\n// Configuração correta do pdfMake\npdfMake.vfs = pdfFonts.vfs;\n\nexport default class Dashboard extends Component {\n  _isMounted = false;\n\n  constructor() {\n    super();\n    this.state = {\n      token: null,\n      openCasalModal: false,\n      openCasalEditModal: false,\n      id: '',\n      name: '',\n      desc: '',\n      tel: '',\n      niverH: '',\n      niverM: '',\n      fileName: '',\n      filePreview: '',\n      page: 1,\n      search: '',\n      casais: [],\n      pages: 0,\n      loading: false\n    };\n\n    this.fileInputAddRef = React.createRef();\n    this.fileInputEditRef = React.createRef();\n  }\n\n  componentDidMount = () => {\n    this._isMounted = true;\n    const token = localStorage.getItem('token');\n    if (!token) {\n      this.props.history.push('/login');\n    } else {\n      this.setState({ token }, () => this.getCasal());\n    }\n  }\n\n  componentWillUnmount() {\n    this._isMounted = false;\n  }\n\n  getAuthHeaders = () => {\n    const t = this.state.token || localStorage.getItem('token');\n    if (!t) return {};\n    return { Authorization: `Bearer ${t}`, token: t };\n  }\n\n  // Buscar casais\n  getCasal = async () => {\n    if (this._isMounted) this.setState({ loading: true });\n    try {\n      let data = `?page=${this.state.page}`;\n      if (this.state.search) data += `&search=${encodeURIComponent(this.state.search)}`;\n\n      const res = await axios.get(`https://backtestmar.onrender.com/get-casal${data}`, {\n        headers: this.getAuthHeaders()\n      });\n\n      const casais = res.data?.casais ?? res.data?.casal ?? [];\n      const pages = res.data?.pages ?? res.data?.totalPages ?? 1;\n\n      if (this._isMounted) this.setState({ loading: false, casais, pages });\n    } catch (err) {\n      swal({ text: err?.response?.data?.errorMessage || 'Erro ao buscar casais', icon: \"error\" });\n      if (this._isMounted) this.setState({ loading: false, casais: [], pages: 0 });\n    }\n  }\n\n  // Deletar casal\n  deleteCasal = async (id) => {\n    if (!window.confirm('Tem certeza que deseja excluir este casal?')) return;\n    try {\n      const headers = { 'Content-Type': 'application/json', ...this.getAuthHeaders() };\n      let res;\n\n      try {\n        res = await axios.delete(`https://backtestmar.onrender.com/delete-casal/${id}`, { headers });\n      } catch (e) {\n        res = await axios.post('https://backtestmar.onrender.com/delete-casal', { id }, { headers });\n      }\n\n      swal({ text: 'Deletado com sucesso!', icon: \"success\" });\n      if (this._isMounted) this.setState({ page: 1 }, () => this.getCasal());\n    } catch (err) {\n      swal({ text: 'Erro ao deletar', icon: 'error' });\n    }\n  }\n\n  pageChange = (e, page) => this.setState({ page }, () => this.getCasal());\n\n  logOut = () => {\n    localStorage.removeItem('token');\n    this.props.history.push('/');\n  }\n\n  onChange = (e) => {\n    if (e.target.files && e.target.files[0]) {\n      const file = e.target.files[0];\n      this.setState({\n        fileName: file.name,\n        filePreview: URL.createObjectURL(file)\n      });\n      return;\n    }\n\n    const { name, value } = e.target;\n    this.setState({ [name]: value }, () => {\n      if (name === 'search') {\n        this.setState({ page: 1 }, () => this.getCasal());\n      }\n    });\n  };\n\n  // Adicionar casal\n  addCasal = async () => {\n    const fileInput = this.fileInputAddRef.current;\n\n    if (!fileInput || !fileInput.files[0]) {\n      return swal({ text: 'Selecione uma imagem', icon: 'error' });\n    }\n\n    if (!this.state.name || !this.state.desc || !this.state.tel || !this.state.niverH || !this.state.niverM) {\n      return swal({ text: 'Preencha todos os campos', icon: 'error' });\n    }\n\n    const fd = new FormData();\n    fd.append('file', fileInput.files[0]);\n    fd.append('name', this.state.name);\n    fd.append('desc', this.state.desc);\n    fd.append('tel', this.state.tel);\n    fd.append('niverH', this.state.niverH);\n    fd.append('niverM', this.state.niverM);\n\n    try {\n      const res = await axios.post('https://backtestmar.onrender.com/add-casal', fd, {\n        headers: { 'content-type': 'multipart/form-data', ...this.getAuthHeaders() }\n      });\n\n      swal({ text: 'Casal adicionado!', icon: \"success\" });\n\n      this.setState({\n        openCasalModal: false,\n        name: '', desc: '', tel: '', niverH: '', niverM: '',\n        fileName: '', filePreview: '', page: 1\n      }, () => this.getCasal());\n\n      fileInput.value = null;\n\n    } catch (err) {\n      swal({ text: 'Erro ao adicionar', icon: \"error\" });\n    }\n  };\n\n  // Atualizar casal\n  updateCasal = async () => {\n    const fileInput = this.fileInputEditRef.current;\n    const id = this.state.id;\n\n    if (!id) return swal({ text: 'ID ausente', icon: 'error' });\n\n    if (!this.state.name || !this.state.desc || !this.state.tel ||\n      !this.state.niverH || !this.state.niverM) {\n      return swal({ text: 'Preencha os campos', icon: 'error' });\n    }\n\n    const fd = new FormData();\n    fd.append('name', this.state.name);\n    fd.append('desc', this.state.desc);\n    fd.append('tel', this.state.tel);\n    fd.append('niverH', this.state.niverH);\n    fd.append('niverM', this.state.niverM);\n\n    if (fileInput.files[0]) fd.append('file', fileInput.files[0]);\n\n    try {\n      const res = await axios.put(\n        `https://backtestmar.onrender.com/update-casal/${id}`,\n        fd,\n        { headers: { 'content-type': 'multipart/form-data', ...this.getAuthHeaders() } }\n      );\n\n      swal({ text: 'Atualizado!', icon: 'success' });\n\n      this.setState({\n        openCasalEditModal: false,\n        name: '', desc: '', tel: '', niverH: '', niverM: '', fileName: ''\n      }, () => this.getCasal());\n\n      fileInput.value = null;\n\n    } catch (err) {\n      swal({ text: 'Erro ao atualizar', icon: 'error' });\n    }\n  };\n\n  // Abrir modal adicionar\n  handleCasalOpen = () => {\n    this.setState({\n      openCasalModal: true,\n      id: '', name: '', desc: '', tel: '', niverH: '', niverM: '',\n      fileName: '', filePreview: ''\n    });\n    if (this.fileInputAddRef.current) this.fileInputAddRef.current.value = null;\n  };\n\n  handleCasalClose = () => this.setState({ openCasalModal: false });\n\n  // Abrir modal editar\n  handleCasalEditOpen = (data) => {\n    this.setState({\n      openCasalEditModal: true,\n      id: data._id,\n      name: data.name,\n      desc: data.desc,\n      tel: data.tel,\n      niverH: data.niverH?.substring(0, 10),\n      niverM: data.niverM?.substring(0, 10),\n      fileName: data.image,\n      filePreview: data.image\n    });\n  };\n\n  handleCasaltEditClose = () => this.setState({ openCasalEditModal: false });\n\n  // Gerar PDF\n  generatePDF = () => {\n    const { casais } = this.state;\n    const body = [\n      ['Nome Casal', 'Descrição', 'Contato', 'Niver Homem', 'Niver Mulher']\n    ];\n\n    casais.forEach(c => {\n      body.push([\n        c.name,\n        c.desc,\n        c.tel,\n        c.niverH?.substring(0, 10) || '',\n        c.niverM?.substring(0, 10) || ''\n      ]);\n    });\n\n    const docDefinition = {\n      content: [\n        { text: 'Lista de Casais', style: 'header' },\n        {\n          table: {\n            headerRows: 1,\n            widths: ['*', '*', '*', '*', '*'],\n            body\n          }\n        }\n      ],\n      styles: {\n        header: {\n          fontSize: 18,\n          bold: true,\n          margin: [0, 0, 0, 10]\n        }\n      }\n    };\n\n    pdfMake.createPdf(docDefinition).download('casais.pdf');\n  };\n\n  render() {\n    const { casais, loading, page, pages, filePreview } = this.state;\n\n    return (\n      <div className=\"dashboard-container\">\n\n        {loading && (\n          <div className=\"loading-container\">\n            <CircularProgress color=\"inherit\" />\n          </div>\n        )}\n\n        {/* Top Bar */}\n        <div className=\"top-bar\">\n          <h2><center>CELULAS DE CASAIS</center></h2>\n          <div>\n            <Button variant=\"contained\" color=\"primary\" size=\"small\" onClick={this.handleCasalOpen} className=\"btn-space\">\n              Adic.Casal\n            </Button>\n            <Button variant=\"contained\" color=\"default\" size=\"small\" onClick={this.generatePDF} className=\"btn-space\">\n              PDF\n            </Button>\n\n            <CSVLink\n              data={casais.map(c => ({\n                Nome: c.name,\n                Descrição: c.desc,\n                Contato: c.tel,\n                Aniversario_Homem: c.niverH?.substring(0, 10) || '',\n                Aniversario_Mulher: c.niverM?.substring(0, 10) || ''\n              }))}\n              filename=\"casais.csv\"\n            >\n              <Button variant=\"contained\" color=\"default\" size=\"small\" className=\"btn-space\">\n                Excel\n              </Button>\n            </CSVLink>\n\n            <Button variant=\"contained\" size=\"small\" onClick={this.logOut}>Sair</Button>\n          </div>\n        </div>\n\n        {/* Modal ADD */}\n        <Dialog open={this.state.openCasalModal} onClose={this.handleCasalClose}>\n          <DialogTitle>Adicionar Casal</DialogTitle>\n          <DialogContent>\n            <TextField type=\"text\" name=\"name\" value={this.state.name} onChange={this.onChange} placeholder=\"Nome Casal\" fullWidth margin=\"dense\" />\n            <TextField type=\"text\" name=\"desc\" value={this.state.desc} onChange={this.onChange} placeholder=\"Descrição\" fullWidth margin=\"dense\" />\n            <TextField type=\"text\" name=\"tel\" value={this.state.tel} onChange={this.onChange} placeholder=\"Telefone\" fullWidth margin=\"dense\" />\n            <TextField type=\"date\" name=\"niverH\" value={this.state.niverH} onChange={this.onChange} fullWidth margin=\"dense\" />\n            <TextField type=\"date\" name=\"niverM\" value={this.state.niverM} onChange={this.onChange} fullWidth margin=\"dense\" />\n\n            <div className=\"file-input-row\">\n              <input ref={this.fileInputAddRef} type=\"file\" accept=\"image/*\" onChange={this.onChange} />\n              <span>{this.state.fileName}</span>\n            </div>\n\n            {filePreview && (\n              <img src={filePreview} alt=\"Preview\" className=\"preview-img\" />\n            )}\n          </DialogContent>\n\n          <DialogActions>\n            <Button onClick={this.handleCasalClose} color=\"primary\">Cancelar</Button>\n            <Button\n              disabled={\n                !this.state.name ||\n                !this.state.desc ||\n                !this.state.tel ||\n                !this.state.niverH ||\n                !this.state.niverM ||\n                !this.fileInputAddRef.current?.files[0]\n              }\n              onClick={this.addCasal}\n              color=\"primary\"\n            >\n              Salvar\n            </Button>\n          </DialogActions>\n        </Dialog>\n\n        {/* Modal EDIT */}\n        <Dialog open={this.state.openCasalEditModal} onClose={this.handleCasaltEditClose}>\n          <DialogTitle>Editar Casal</DialogTitle>\n          <DialogContent>\n            <TextField type=\"text\" name=\"name\" value={this.state.name} onChange={this.onChange} fullWidth margin=\"dense\" />\n            <TextField type=\"text\" name=\"desc\" value={this.state.desc} onChange={this.onChange} fullWidth margin=\"dense\" />\n            <TextField type=\"text\" name=\"tel\" value={this.state.tel} onChange={this.onChange} fullWidth margin=\"dense\" />\n            <TextField type=\"date\" name=\"niverH\" value={this.state.niverH} onChange={this.onChange} fullWidth margin=\"dense\" />\n            <TextField type=\"date\" name=\"niverM\" value={this.state.niverM} onChange={this.onChange} fullWidth margin=\"dense\" />\n\n            <div className=\"file-input-row\">\n              <input ref={this.fileInputEditRef} type=\"file\" accept=\"image/*\" onChange={this.onChange} />\n              <span>{this.state.fileName}</span>\n            </div>\n\n            {filePreview && (\n              <img src={filePreview} alt=\"Preview\" className=\"preview-img\" />\n            )}\n          </DialogContent>\n\n          <DialogActions>\n            <Button onClick={this.handleCasaltEditClose} color=\"primary\">Cancelar</Button>\n            <Button onClick={this.updateCasal} color=\"primary\">Salvar</Button>\n          </DialogActions>\n        </Dialog>\n\n        {/* TABELA */}\n        <TableContainer>\n          <div className=\"search-box\">\n            <TextField\n              type=\"search\"\n              name=\"search\"\n              value={this.state.search}\n              onChange={this.onChange}\n              placeholder=\"Procurar Casal\"\n              variant=\"outlined\"\n              size=\"small\"\n            />\n          </div>\n\n          <Table>\n            <TableHead>\n              <TableRow>\n                <TableCell align=\"center\">Imagem</TableCell>\n                <TableCell align=\"center\">Nome</TableCell>\n                <TableCell align=\"center\">Descrição</TableCell>\n                <TableCell align=\"center\">Contato</TableCell>\n                <TableCell align=\"center\">Niver Homem</TableCell>\n                <TableCell align=\"center\">Niver Mulher</TableCell>\n                <TableCell align=\"center\">Ações</TableCell>\n              </TableRow>\n            </TableHead>\n\n            <TableBody>\n              {casais.map(row => (\n                <TableRow key={row._id}>\n                  <TableCell align=\"center\">\n                    {row.image ? <img src={row.image} alt={row.name} className=\"table-img\" /> : '—'}\n                  </TableCell>\n                  <TableCell align=\"center\">{row.name}</TableCell>\n                  <TableCell align=\"center\">{row.desc}</TableCell>\n                  <TableCell align=\"center\">{row.tel}</TableCell>\n                  <TableCell align=\"center\">{row.niverH?.substring(0, 10)}</TableCell>\n                  <TableCell align=\"center\">{row.niverM?.substring(0, 10)}</TableCell>\n                  <TableCell align=\"center\">\n                    <Button variant=\"outlined\" color=\"primary\" size=\"small\" onClick={() => this.handleCasalEditOpen(row)}>Editar</Button>\n                    <Button variant=\"outlined\" color=\"secondary\" size=\"small\" onClick={() => this.deleteCasal(row._id)}>Excluir</Button>\n                  </TableCell>\n                </TableRow>\n              ))}\n            </TableBody>\n\n          </Table>\n\n          <div className=\"pagination-area\">\n            <Pagination count={pages} page={page} onChange={this.pageChange} color=\"primary\" />\n          </div>\n        </TableContainer>\n\n      </div>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}