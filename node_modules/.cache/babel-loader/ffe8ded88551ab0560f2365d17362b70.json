{"ast":null,"code":"var _jsxFileName = \"/home/ues/Documentos/GitHub/testefrontamai/src/Register.js\";\nimport React, { Component } from 'react';\nimport swal from 'sweetalert';\nimport { Button, TextField, Link, CircularProgress } from '@material-ui/core';\nimport axios from 'axios';\nimport \"./Register.css\";\nexport default class Register extends Component {\n  constructor(props) {\n    super(props);\n\n    this.onChange = e => this.setState({\n      [e.target.name]: e.target.value\n    });\n\n    this.register = async () => {\n      const {\n        username,\n        password,\n        confirm_password\n      } = this.state;\n\n      if (!username || !password || !confirm_password) {\n        swal({\n          text: \"Preencha todos os campos!\",\n          icon: \"error\"\n        });\n        return;\n      }\n\n      if (password !== confirm_password) {\n        swal({\n          text: \"As senhas não coincidem!\",\n          icon: \"error\"\n        });\n        return;\n      }\n\n      this.setState({\n        loading: true\n      });\n\n      try {\n        const res = await axios.post(\"https://backtestmar.onrender.com/register\", {\n          username,\n          password\n        });\n        swal({\n          text: \"Registrado com sucesso!\",\n          icon: \"success\"\n        });\n        this.props.history.push(\"/\");\n      } catch (err) {\n        var _err$response, _err$response$data;\n\n        const msg = (err === null || err === void 0 ? void 0 : (_err$response = err.response) === null || _err$response === void 0 ? void 0 : (_err$response$data = _err$response.data) === null || _err$response$data === void 0 ? void 0 : _err$response$data.errorMessage) || \"Erro ao registrar usuário.\";\n        swal({\n          text: msg,\n          icon: \"error\"\n        });\n      } finally {\n        this.setState({\n          loading: false\n        });\n      }\n    };\n\n    this.state = {\n      username: '',\n      password: '',\n      confirm_password: '',\n      loading: false\n    };\n  }\n\n  render() {\n    const {\n      username,\n      password,\n      confirm_password,\n      loading\n    } = this.state;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"register-container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"register-card\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"h2\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 11\n      }\n    }, \"Registro\"), /*#__PURE__*/React.createElement(TextField, {\n      fullWidth: true,\n      type: \"text\",\n      autoComplete: \"off\",\n      name: \"username\",\n      value: username,\n      onChange: this.onChange,\n      placeholder: \"Usu\\xE1rio\",\n      margin: \"dense\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(TextField, {\n      fullWidth: true,\n      type: \"password\",\n      autoComplete: \"off\",\n      name: \"password\",\n      value: password,\n      onChange: this.onChange,\n      placeholder: \"Senha\",\n      margin: \"dense\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(TextField, {\n      fullWidth: true,\n      type: \"password\",\n      autoComplete: \"off\",\n      name: \"confirm_password\",\n      value: confirm_password,\n      onChange: this.onChange,\n      placeholder: \"Confirmar senha\",\n      margin: \"dense\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"register-actions\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      variant: \"contained\",\n      color: \"primary\",\n      onClick: this.register,\n      disabled: !username || !password || !confirm_password || loading,\n      className: \"register-btn\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 13\n      }\n    }, loading ? \"Registrando...\" : \"Registrar\"), loading && /*#__PURE__*/React.createElement(CircularProgress, {\n      size: 26,\n      className: \"register-loading\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(Link, {\n      href: \"/\",\n      className: \"register-login-link\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 13\n      }\n    }, \"J\\xE1 tenho conta\"))));\n  }\n\n}","map":{"version":3,"sources":["/home/ues/Documentos/GitHub/testefrontamai/src/Register.js"],"names":["React","Component","swal","Button","TextField","Link","CircularProgress","axios","Register","constructor","props","onChange","e","setState","target","name","value","register","username","password","confirm_password","state","text","icon","loading","res","post","history","push","err","msg","response","data","errorMessage","render"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport swal from 'sweetalert';\nimport { Button, TextField, Link, CircularProgress } from '@material-ui/core';\nimport axios from 'axios';\nimport \"./Register.css\";\n\nexport default class Register extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      username: '',\n      password: '',\n      confirm_password: '',\n      loading: false\n    };\n  }\n\n  onChange = (e) => this.setState({ [e.target.name]: e.target.value });\n\n  register = async () => {\n    const { username, password, confirm_password } = this.state;\n\n    if (!username || !password || !confirm_password) {\n      swal({ text: \"Preencha todos os campos!\", icon: \"error\" });\n      return;\n    }\n\n    if (password !== confirm_password) {\n      swal({ text: \"As senhas não coincidem!\", icon: \"error\" });\n      return;\n    }\n\n    this.setState({ loading: true });\n\n    try {\n      const res = await axios.post(\"https://backtestmar.onrender.com/register\", {\n        username,\n        password\n      });\n\n      swal({ text: \"Registrado com sucesso!\", icon: \"success\" });\n\n      this.props.history.push(\"/\");\n\n    } catch (err) {\n      const msg =\n        err?.response?.data?.errorMessage ||\n        \"Erro ao registrar usuário.\";\n\n      swal({ text: msg, icon: \"error\" });\n    } finally {\n      this.setState({ loading: false });\n    }\n  };\n\n  render() {\n    const { username, password, confirm_password, loading } = this.state;\n\n    return (\n      <div className=\"register-container\">\n\n        <div className=\"register-card\">\n          <h2>Registro</h2>\n\n          <TextField\n            fullWidth\n            type=\"text\"\n            autoComplete=\"off\"\n            name=\"username\"\n            value={username}\n            onChange={this.onChange}\n            placeholder=\"Usuário\"\n            margin=\"dense\"\n          />\n\n          <TextField\n            fullWidth\n            type=\"password\"\n            autoComplete=\"off\"\n            name=\"password\"\n            value={password}\n            onChange={this.onChange}\n            placeholder=\"Senha\"\n            margin=\"dense\"\n          />\n\n          <TextField\n            fullWidth\n            type=\"password\"\n            autoComplete=\"off\"\n            name=\"confirm_password\"\n            value={confirm_password}\n            onChange={this.onChange}\n            placeholder=\"Confirmar senha\"\n            margin=\"dense\"\n          />\n\n          <div className=\"register-actions\">\n            <Button\n              variant=\"contained\"\n              color=\"primary\"\n              onClick={this.register}\n              disabled={!username || !password || !confirm_password || loading}\n              className=\"register-btn\"\n            >\n              {loading ? \"Registrando...\" : \"Registrar\"}\n            </Button>\n\n            {loading && (\n              <CircularProgress size={26} className=\"register-loading\" />\n            )}\n\n            <Link href=\"/\" className=\"register-login-link\">\n              Já tenho conta\n            </Link>\n          </div>\n        </div>\n\n      </div>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}