{"ast":null,"code":"import _defineProperty from\"/home/ues/Documentos/GitHub/testefrontamai/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/home/ues/Documentos/GitHub/testefrontamai/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/ues/Documentos/GitHub/testefrontamai/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/home/ues/Documentos/GitHub/testefrontamai/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/ues/Documentos/GitHub/testefrontamai/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import swal from'sweetalert';import{Button,TextField,Link}from'@material-ui/core';var axios=require('axios');var bcrypt=require('bcryptjs');var salt=bcrypt.genSaltSync(10);var Login=/*#__PURE__*/function(_Component){_inherits(Login,_Component);var _super=_createSuper(Login);function Login(props){var _this;_classCallCheck(this,Login);_this=_super.call(this,props);_this.onChange=function(e){return _this.setState(_defineProperty({},e.target.name,e.target.value));};_this.login=function(){var pwd=bcrypt.hashSync(_this.state.password,salt);axios.post('https://backtestmar.onrender.com/login',{username:_this.state.username,password:pwd}).then(function(res){localStorage.setItem('token',res.data.token);localStorage.setItem('user_id',res.data.id);_this.props.history.push('/dashboard');}).catch(function(err){var _err$response,_err$response$data;// ðŸ”’ TRATAMENTO 100% SEGURO\nvar msg=((_err$response=err.response)===null||_err$response===void 0?void 0:(_err$response$data=_err$response.data)===null||_err$response$data===void 0?void 0:_err$response$data.errorMessage)||err.message||\"Erro inesperado ao fazer login.\";swal({text:msg,icon:\"error\",type:\"error\"});});};_this.state={username:'',password:''};return _this;}_createClass(Login,[{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(\"div\",{style:{marginTop:'200px'}},/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"h2\",null,\"Login\")),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(TextField,{id:\"standard-basic\",type:\"text\",autoComplete:\"off\",name:\"username\",value:this.state.username,onChange:this.onChange,placeholder:\"Usuario\",required:true}),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(TextField,{id:\"standard-basic\",type:\"password\",autoComplete:\"off\",name:\"password\",value:this.state.password,onChange:this.onChange,placeholder:\"Senha\",required:true}),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(Button,{className:\"button_style\",variant:\"contained\",color:\"primary\",size:\"small\",disabled:this.state.username===''&&this.state.password==='',onClick:this.login},\"Login\"),\"\\xA0\\xA0\\xA0\\xA0\\xA0\",/*#__PURE__*/React.createElement(Link,{href:\"/register\"},\"Registro\")));}}]);return Login;}(Component);export{Login as default};","map":null,"metadata":{},"sourceType":"module"}