{"ast":null,"code":"import _taggedTemplateLiteral from\"/home/ues/Documentos/GitHub/testefrontamai/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";import _regeneratorRuntime from\"/home/ues/Documentos/GitHub/testefrontamai/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/ues/Documentos/GitHub/testefrontamai/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _objectSpread from\"/home/ues/Documentos/GitHub/testefrontamai/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/home/ues/Documentos/GitHub/testefrontamai/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";function _templateObject(){var data=_taggedTemplateLiteral([\"\\n\\ttransition: all 0.5s ease;\\n\\tmargin-left: \",\";\\n\\t@media screen and (max-width: 468px) {\\n\\t\\tmargin-left: 0;\\n\\t}\\n\"]);_templateObject=function _templateObject(){return data;};return data;}import React,{useState,useRef}from\"react\";import styled from\"styled-components\";import\"./App.css\";// Import components\nimport Player from\"./Player\";import Song from\"./Song\";import Library from\"./Library\";import Nav from\"./Nav\";import Credit from\"./Credit\";// Import data\nimport data from\"./data\";var App=function App(){// Ref\nvar audioRef=useRef(null);// State\nvar _useState=useState(data()),_useState2=_slicedToArray(_useState,2),songs=_useState2[0],setSongs=_useState2[1];var _useState3=useState(songs[0]),_useState4=_slicedToArray(_useState3,2),currentSong=_useState4[0],setCurrentSong=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),isPlaying=_useState6[0],setIsPlaying=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),libraryStatus=_useState8[0],setLibraryStatus=_useState8[1];var _useState9=useState({currentTime:0,duration:0}),_useState10=_slicedToArray(_useState9,2),songInfo=_useState10[0],setSongInfo=_useState10[1];// Functions\nvar updateTimeHandler=function updateTimeHandler(e){var currentTime=e.target.currentTime;var duration=e.target.duration;setSongInfo(_objectSpread(_objectSpread({},songInfo),{},{currentTime:currentTime,duration:duration}));};var songEndHandler=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var currentIndex,nextSong,newSongs;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:currentIndex=songs.findIndex(function(song){return song.id===currentSong.id;});nextSong=songs[(currentIndex+1)%songs.length];_context.next=4;return setCurrentSong(nextSong);case 4:newSongs=songs.map(function(song){if(song.id===nextSong.id){return _objectSpread(_objectSpread({},song),{},{active:true});}else{return _objectSpread(_objectSpread({},song),{},{active:false});}});setSongs(newSongs);if(isPlaying){audioRef.current.play();}case 7:case\"end\":return _context.stop();}}},_callee);}));return function songEndHandler(){return _ref.apply(this,arguments);};}();return/*#__PURE__*/React.createElement(AppContainer,{libraryStatus:libraryStatus},/*#__PURE__*/React.createElement(Nav,{libraryStatus:libraryStatus,setLibraryStatus:setLibraryStatus}),/*#__PURE__*/React.createElement(Song,{currentSong:currentSong}),/*#__PURE__*/React.createElement(Player,{isPlaying:isPlaying,setIsPlaying:setIsPlaying,currentSong:currentSong,setCurrentSong:setCurrentSong,audioRef:audioRef,songInfo:songInfo,setSongInfo:setSongInfo,songs:songs,setSongs:setSongs}),/*#__PURE__*/React.createElement(Library,{songs:songs,setCurrentSong:setCurrentSong,audioRef:audioRef,isPlaying:isPlaying,setSongs:setSongs,libraryStatus:libraryStatus}),/*#__PURE__*/React.createElement(Credit,null),/*#__PURE__*/React.createElement(\"audio\",{onLoadedMetadata:updateTimeHandler,onTimeUpdate:updateTimeHandler,onEnded:songEndHandler,ref:audioRef,src:currentSong.audio}));};var AppContainer=styled.div(_templateObject(),function(p){return p.libraryStatus?\"10rem\":\"0\";});export default App;","map":null,"metadata":{},"sourceType":"module"}