{"ast":null,"code":"import React from \"react\";\n\nfunction useStatefulRef(initialVal = null) {\n  let [cur, setCur] = React.useState(initialVal);\n  const {\n    current: ref\n  } = React.useRef({\n    current: cur\n  });\n  Object.defineProperty(ref, \"current\", {\n    get: () => cur,\n    set: value => {\n      if (!Object.is(cur, value)) {\n        cur = value;\n        setCur(value);\n      }\n    }\n  });\n  return ref;\n}\n\nfunction useForwardedRef(forwardedRef) {\n  const innerRef = useStatefulRef(null);\n  React.useEffect(() => {\n    if (!forwardedRef) return;\n\n    if (typeof forwardedRef === \"function\") {\n      forwardedRef(innerRef.current);\n    } else {\n      forwardedRef.current = innerRef.current;\n    }\n  });\n  return innerRef;\n}\n\nexport { useForwardedRef as default };","map":{"version":3,"sources":["/home/ueslei/node_modules/@bedrock-layout/use-forwarded-ref/lib/index.m.js"],"names":["React","useStatefulRef","initialVal","cur","setCur","useState","current","ref","useRef","Object","defineProperty","get","set","value","is","useForwardedRef","forwardedRef","innerRef","useEffect","default"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;;AACA,SAASC,cAAT,CAAwBC,UAAU,GAAG,IAArC,EAA2C;AACzC,MAAI,CAACC,GAAD,EAAMC,MAAN,IAAgBJ,KAAK,CAACK,QAAN,CAAeH,UAAf,CAApB;AACA,QAAM;AAAEI,IAAAA,OAAO,EAAEC;AAAX,MAAmBP,KAAK,CAACQ,MAAN,CAAa;AACpCF,IAAAA,OAAO,EAAEH;AAD2B,GAAb,CAAzB;AAGAM,EAAAA,MAAM,CAACC,cAAP,CAAsBH,GAAtB,EAA2B,SAA3B,EAAsC;AACpCI,IAAAA,GAAG,EAAE,MAAMR,GADyB;AAEpCS,IAAAA,GAAG,EAAGC,KAAD,IAAW;AACd,UAAI,CAACJ,MAAM,CAACK,EAAP,CAAUX,GAAV,EAAeU,KAAf,CAAL,EAA4B;AAC1BV,QAAAA,GAAG,GAAGU,KAAN;AACAT,QAAAA,MAAM,CAACS,KAAD,CAAN;AACD;AACF;AAPmC,GAAtC;AASA,SAAON,GAAP;AACD;;AACD,SAASQ,eAAT,CAAyBC,YAAzB,EAAuC;AACrC,QAAMC,QAAQ,GAAGhB,cAAc,CAAC,IAAD,CAA/B;AACAD,EAAAA,KAAK,CAACkB,SAAN,CAAgB,MAAM;AACpB,QAAI,CAACF,YAAL,EACE;;AACF,QAAI,OAAOA,YAAP,KAAwB,UAA5B,EAAwC;AACtCA,MAAAA,YAAY,CAACC,QAAQ,CAACX,OAAV,CAAZ;AACD,KAFD,MAEO;AACLU,MAAAA,YAAY,CAACV,OAAb,GAAuBW,QAAQ,CAACX,OAAhC;AACD;AACF,GARD;AASA,SAAOW,QAAP;AACD;;AACD,SAASF,eAAe,IAAII,OAA5B","sourcesContent":["import React from \"react\";\nfunction useStatefulRef(initialVal = null) {\n  let [cur, setCur] = React.useState(initialVal);\n  const { current: ref } = React.useRef({\n    current: cur\n  });\n  Object.defineProperty(ref, \"current\", {\n    get: () => cur,\n    set: (value) => {\n      if (!Object.is(cur, value)) {\n        cur = value;\n        setCur(value);\n      }\n    }\n  });\n  return ref;\n}\nfunction useForwardedRef(forwardedRef) {\n  const innerRef = useStatefulRef(null);\n  React.useEffect(() => {\n    if (!forwardedRef)\n      return;\n    if (typeof forwardedRef === \"function\") {\n      forwardedRef(innerRef.current);\n    } else {\n      forwardedRef.current = innerRef.current;\n    }\n  });\n  return innerRef;\n}\nexport { useForwardedRef as default };\n"]},"metadata":{},"sourceType":"module"}