{"ast":null,"code":"var _jsxFileName = \"/home/ues/Documentos/GitHub/testefrontamai/src/pages/Player/App.js\";\nimport React, { useState, useRef } from \"react\";\nimport styled from \"styled-components\";\nimport \"./App.css\"; // Import components\n\nimport Player from \"./Player\";\nimport Song from \"./Song\";\nimport Library from \"./Library\";\nimport Nav from \"./Nav\";\nimport Credit from \"./Credit\"; // Import data\n\nimport data from \"./data\";\n\nconst App = () => {\n  // Ref\n  const audioRef = useRef(null); // State\n\n  const [songs, setSongs] = useState(data());\n  const [currentSong, setCurrentSong] = useState(songs[0]);\n  const [isPlaying, setIsPlaying] = useState(false);\n  const [libraryStatus, setLibraryStatus] = useState(false);\n  const [songInfo, setSongInfo] = useState({\n    currentTime: 0,\n    duration: 0\n  }); // Functions\n\n  const updateTimeHandler = e => {\n    const currentTime = e.target.currentTime;\n    const duration = e.target.duration;\n    setSongInfo({ ...songInfo,\n      currentTime,\n      duration\n    });\n  };\n\n  const songEndHandler = async () => {\n    let currentIndex = songs.findIndex(song => song.id === currentSong.id);\n    let nextSong = songs[(currentIndex + 1) % songs.length];\n    await setCurrentSong(nextSong);\n    const newSongs = songs.map(song => {\n      if (song.id === nextSong.id) {\n        return { ...song,\n          active: true\n        };\n      } else {\n        return { ...song,\n          active: false\n        };\n      }\n    });\n    setSongs(newSongs);\n\n    if (isPlaying) {\n      audioRef.current.play();\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(AppContainer, {\n    libraryStatus: libraryStatus,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Nav, {\n    libraryStatus: libraryStatus,\n    setLibraryStatus: setLibraryStatus,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(Song, {\n    currentSong: currentSong,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(Player, {\n    isPlaying: isPlaying,\n    setIsPlaying: setIsPlaying,\n    currentSong: currentSong,\n    setCurrentSong: setCurrentSong,\n    audioRef: audioRef,\n    songInfo: songInfo,\n    setSongInfo: setSongInfo,\n    songs: songs,\n    setSongs: setSongs,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(Library, {\n    songs: songs,\n    setCurrentSong: setCurrentSong,\n    audioRef: audioRef,\n    isPlaying: isPlaying,\n    setSongs: setSongs,\n    libraryStatus: libraryStatus,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(Credit, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"audio\", {\n    onLoadedMetadata: updateTimeHandler,\n    onTimeUpdate: updateTimeHandler,\n    onEnded: songEndHandler,\n    ref: audioRef,\n    src: currentSong.audio,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 7\n    }\n  }));\n}; // ------------------------------\n//   RESPONSIVE CONTAINER\n// ------------------------------\n\n\nconst AppContainer = styled.div`\n  width: 100%;\n  min-height: 100vh;\n  overflow-x: hidden;\n  transition: all 0.45s ease;\n\n  /* Desktop: empurra a tela quando a Library abre */\n  margin-left: ${p => p.libraryStatus ? \"18rem\" : \"0\"};\n\n  /* Telas médias */\n  @media screen and (max-width: 900px) {\n    margin-left: ${p => p.libraryStatus ? \"14rem\" : \"0\"};\n  }\n\n  /* Telas pequenas: Library vira OVERLAY e não empurra mais */\n  @media screen and (max-width: 600px) {\n    margin-left: 0;\n  }\n`;\nexport default App;","map":{"version":3,"sources":["/home/ues/Documentos/GitHub/testefrontamai/src/pages/Player/App.js"],"names":["React","useState","useRef","styled","Player","Song","Library","Nav","Credit","data","App","audioRef","songs","setSongs","currentSong","setCurrentSong","isPlaying","setIsPlaying","libraryStatus","setLibraryStatus","songInfo","setSongInfo","currentTime","duration","updateTimeHandler","e","target","songEndHandler","currentIndex","findIndex","song","id","nextSong","length","newSongs","map","active","current","play","audio","AppContainer","div","p"],"mappings":"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","sourcesContent":["import React, { useState, useRef } from \"react\";\nimport styled from \"styled-components\";\nimport \"./App.css\";\n\n// Import components\nimport Player from \"./Player\";\nimport Song from \"./Song\";\nimport Library from \"./Library\";\nimport Nav from \"./Nav\";\nimport Credit from \"./Credit\";\n// Import data\nimport data from \"./data\";\n\nconst App = () => {\n  // Ref\n  const audioRef = useRef(null);\n\n  // State\n  const [songs, setSongs] = useState(data());\n  const [currentSong, setCurrentSong] = useState(songs[0]);\n  const [isPlaying, setIsPlaying] = useState(false);\n  const [libraryStatus, setLibraryStatus] = useState(false);\n  const [songInfo, setSongInfo] = useState({\n    currentTime: 0,\n    duration: 0,\n  });\n\n  // Functions\n  const updateTimeHandler = (e) => {\n    const currentTime = e.target.currentTime;\n    const duration = e.target.duration;\n    setSongInfo({ ...songInfo, currentTime, duration });\n  };\n\n  const songEndHandler = async () => {\n    let currentIndex = songs.findIndex((song) => song.id === currentSong.id);\n    let nextSong = songs[(currentIndex + 1) % songs.length];\n    await setCurrentSong(nextSong);\n\n    const newSongs = songs.map((song) => {\n      if (song.id === nextSong.id) {\n        return { ...song, active: true };\n      } else {\n        return { ...song, active: false };\n      }\n    });\n    setSongs(newSongs);\n\n    if (isPlaying) {\n      audioRef.current.play();\n    }\n  };\n\n  return (\n    <AppContainer libraryStatus={libraryStatus}>\n      <Nav libraryStatus={libraryStatus} setLibraryStatus={setLibraryStatus} />\n      <Song currentSong={currentSong} />\n      <Player\n        isPlaying={isPlaying}\n        setIsPlaying={setIsPlaying}\n        currentSong={currentSong}\n        setCurrentSong={setCurrentSong}\n        audioRef={audioRef}\n        songInfo={songInfo}\n        setSongInfo={setSongInfo}\n        songs={songs}\n        setSongs={setSongs}\n      />\n      <Library\n        songs={songs}\n        setCurrentSong={setCurrentSong}\n        audioRef={audioRef}\n        isPlaying={isPlaying}\n        setSongs={setSongs}\n        libraryStatus={libraryStatus}\n      />\n      <Credit />\n\n      <audio\n        onLoadedMetadata={updateTimeHandler}\n        onTimeUpdate={updateTimeHandler}\n        onEnded={songEndHandler}\n        ref={audioRef}\n        src={currentSong.audio}\n      />\n    </AppContainer>\n  );\n};\n\n// ------------------------------\n//   RESPONSIVE CONTAINER\n// ------------------------------\nconst AppContainer = styled.div`\n  width: 100%;\n  min-height: 100vh;\n  overflow-x: hidden;\n  transition: all 0.45s ease;\n\n  /* Desktop: empurra a tela quando a Library abre */\n  margin-left: ${(p) => (p.libraryStatus ? \"18rem\" : \"0\")};\n\n  /* Telas médias */\n  @media screen and (max-width: 900px) {\n    margin-left: ${(p) => (p.libraryStatus ? \"14rem\" : \"0\")};\n  }\n\n  /* Telas pequenas: Library vira OVERLAY e não empurra mais */\n  @media screen and (max-width: 600px) {\n    margin-left: 0;\n  }\n`;\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}