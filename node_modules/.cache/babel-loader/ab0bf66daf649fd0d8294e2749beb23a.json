{"ast":null,"code":"var _jsxFileName = \"/home/ues/Documentos/GitHub/testefrontamai/src/Register.js\";\nimport React, { Component } from 'react';\nimport swal from 'sweetalert';\nimport { Button, TextField, Link, CircularProgress } from '@material-ui/core';\nimport axios from 'axios';\nimport \"./Register.css\";\nexport default class Register extends Component {\n  constructor(props) {\n    super(props);\n\n    this.onChange = e => this.setState({\n      [e.target.name]: e.target.value\n    });\n\n    this.register = async () => {\n      const {\n        username,\n        password,\n        confirm_password\n      } = this.state;\n\n      if (!username || !password || !confirm_password) {\n        swal({\n          text: \"Preencha todos os campos!\",\n          icon: \"error\"\n        });\n        return;\n      }\n\n      if (password.length < 4) {\n        swal({\n          text: \"A senha deve ter pelo menos 4 caracteres!\",\n          icon: \"error\"\n        });\n        return;\n      }\n\n      if (password !== confirm_password) {\n        swal({\n          text: \"As senhas não coincidem!\",\n          icon: \"error\"\n        });\n        return;\n      }\n\n      this.setState({\n        loading: true\n      });\n\n      try {\n        const res = await axios.post(\"https://backtestmar.onrender.com/register\", {\n          username,\n          password\n        }, {\n          timeout: 25000\n        } // evita travar caso o Render demore a acordar\n        );\n        swal({\n          text: \"Registrado com sucesso!\",\n          icon: \"success\"\n        });\n        this.props.history.push(\"/\");\n      } catch (err) {\n        var _err$response, _err$response$data;\n\n        const msg = (err === null || err === void 0 ? void 0 : (_err$response = err.response) === null || _err$response === void 0 ? void 0 : (_err$response$data = _err$response.data) === null || _err$response$data === void 0 ? void 0 : _err$response$data.errorMessage) || \"Erro ao registrar usuário. O servidor pode estar lento.\";\n        swal({\n          text: msg,\n          icon: \"error\"\n        });\n      } finally {\n        this.setState({\n          loading: false\n        });\n      }\n    };\n\n    this.state = {\n      username: '',\n      password: '',\n      confirm_password: '',\n      loading: false\n    };\n  }\n\n  render() {\n    const {\n      username,\n      password,\n      confirm_password,\n      loading\n    } = this.state;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"register-container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 7\n      }\n    }, loading && /*#__PURE__*/React.createElement(\"div\", {\n      className: \"overlay-loading\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(CircularProgress, {\n      size: 50,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 13\n      }\n    }, \"Conectando ao servidor...\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"register-card\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"h2\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 11\n      }\n    }, \"Registro\"), /*#__PURE__*/React.createElement(TextField, {\n      fullWidth: true,\n      type: \"text\",\n      name: \"username\",\n      value: username,\n      onChange: this.onChange,\n      placeholder: \"Usu\\xE1rio\",\n      margin: \"dense\",\n      autoComplete: \"off\",\n      disabled: loading,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(TextField, {\n      fullWidth: true,\n      type: \"password\",\n      name: \"password\",\n      value: password,\n      onChange: this.onChange,\n      placeholder: \"Senha\",\n      margin: \"dense\",\n      autoComplete: \"off\",\n      disabled: loading,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(TextField, {\n      fullWidth: true,\n      type: \"password\",\n      name: \"confirm_password\",\n      value: confirm_password,\n      onChange: this.onChange,\n      placeholder: \"Confirmar senha\",\n      margin: \"dense\",\n      autoComplete: \"off\",\n      disabled: loading,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"register-actions\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      variant: \"contained\",\n      color: \"primary\",\n      onClick: this.register,\n      disabled: !username || !password || !confirm_password || loading,\n      className: \"register-btn\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 13\n      }\n    }, loading ? \"Registrando...\" : \"Registrar\"), /*#__PURE__*/React.createElement(Link, {\n      href: \"/\",\n      className: \"register-login-link\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 13\n      }\n    }, \"J\\xE1 tenho conta\"))));\n  }\n\n}","map":{"version":3,"sources":["/home/ues/Documentos/GitHub/testefrontamai/src/Register.js"],"names":["React","Component","swal","Button","TextField","Link","CircularProgress","axios","Register","constructor","props","onChange","e","setState","target","name","value","register","username","password","confirm_password","state","text","icon","length","loading","res","post","timeout","history","push","err","msg","response","data","errorMessage","render"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport swal from 'sweetalert';\nimport { Button, TextField, Link, CircularProgress } from '@material-ui/core';\nimport axios from 'axios';\nimport \"./Register.css\";\n\nexport default class Register extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      username: '',\n      password: '',\n      confirm_password: '',\n      loading: false\n    };\n  }\n\n  onChange = (e) =>\n    this.setState({ [e.target.name]: e.target.value });\n\n  register = async () => {\n    const { username, password, confirm_password } = this.state;\n\n    if (!username || !password || !confirm_password) {\n      swal({ text: \"Preencha todos os campos!\", icon: \"error\" });\n      return;\n    }\n\n    if (password.length < 4) {\n      swal({ text: \"A senha deve ter pelo menos 4 caracteres!\", icon: \"error\" });\n      return;\n    }\n\n    if (password !== confirm_password) {\n      swal({ text: \"As senhas não coincidem!\", icon: \"error\" });\n      return;\n    }\n\n    this.setState({ loading: true });\n\n    try {\n      const res = await axios.post(\n        \"https://backtestmar.onrender.com/register\",\n        { username, password },\n        { timeout: 25000 } // evita travar caso o Render demore a acordar\n      );\n\n      swal({ text: \"Registrado com sucesso!\", icon: \"success\" });\n      this.props.history.push(\"/\");\n\n    } catch (err) {\n      const msg =\n        err?.response?.data?.errorMessage ||\n        \"Erro ao registrar usuário. O servidor pode estar lento.\";\n\n      swal({ text: msg, icon: \"error\" });\n    } finally {\n      this.setState({ loading: false });\n    }\n  };\n\n  render() {\n    const { username, password, confirm_password, loading } = this.state;\n\n    return (\n      <div className=\"register-container\">\n        \n        {loading && (\n          <div className=\"overlay-loading\">\n            <CircularProgress size={50} />\n            <p>Conectando ao servidor...</p>\n          </div>\n        )}\n\n        <div className=\"register-card\">\n          <h2>Registro</h2>\n\n          <TextField\n            fullWidth\n            type=\"text\"\n            name=\"username\"\n            value={username}\n            onChange={this.onChange}\n            placeholder=\"Usuário\"\n            margin=\"dense\"\n            autoComplete=\"off\"\n            disabled={loading}\n          />\n\n          <TextField\n            fullWidth\n            type=\"password\"\n            name=\"password\"\n            value={password}\n            onChange={this.onChange}\n            placeholder=\"Senha\"\n            margin=\"dense\"\n            autoComplete=\"off\"\n            disabled={loading}\n          />\n\n          <TextField\n            fullWidth\n            type=\"password\"\n            name=\"confirm_password\"\n            value={confirm_password}\n            onChange={this.onChange}\n            placeholder=\"Confirmar senha\"\n            margin=\"dense\"\n            autoComplete=\"off\"\n            disabled={loading}\n          />\n\n          <div className=\"register-actions\">\n            <Button\n              variant=\"contained\"\n              color=\"primary\"\n              onClick={this.register}\n              disabled={!username || !password || !confirm_password || loading}\n              className=\"register-btn\"\n            >\n              {loading ? \"Registrando...\" : \"Registrar\"}\n            </Button>\n\n            <Link href=\"/\" className=\"register-login-link\">\n              Já tenho conta\n            </Link>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}