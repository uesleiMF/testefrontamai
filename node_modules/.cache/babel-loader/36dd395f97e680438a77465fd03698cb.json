{"ast":null,"code":"var _jsxFileName = \"/home/ueslei/Documentos/GitHub/testefrontamai/src/pages/View/View.js\";\nimport React, { useState, useEffect } from 'react';\nimport { useParams } from 'react-router-dom';\nimport { Link, useNavigate } from 'react-router-dom';\nimport { Modal } from 'react-responsive-modal';\nimport 'react-responsive-modal/styles.css';\nimport Api from '../../api/api';\n\nconst View = () => {\n  // inicializa o estado musica para poder fazer as alteracoes do dom.\n  const [produto, setProduto] = useState({}); // crio o estado de abertura do modal;\n\n  const [open, setOpen] = useState(false);\n  const navigate = useNavigate(); // funcoes de abertura e fechamento do modal\n\n  const AbreModal = () => setOpen(true);\n\n  const FechaModal = () => setOpen(false); // chama o use effect sem parametro de dependencia (executa uma vez ao renderizar o componente)\n  // chamando a funcao getMusicaById\n\n\n  useEffect(() => {\n    getProdutoById();\n  }); // acessa o id no parametro da url;\n\n  const {\n    id\n  } = useParams();\n  console.log(id); // faz a chamada para a api passando o id como parametro para buscar o objeto da musica (invidual por id)\n\n  const getProdutoById = async () => {\n    const request = await Api.fetchGetById(id);\n    const produto = await request.json();\n    setProduto(produto);\n  };\n\n  const handleDelete = async () => {\n    const response = await Api.fetchDelete(id);\n    const data = await response.json();\n\n    if (data.message) {\n      console.log('excluido', data.message);\n      navigate('/cadastro');\n    } else {\n      alert(data.error);\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row my-5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-6\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: produto.capa,\n    className: \"w-100\",\n    alt: produto.titulo,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-6\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"card my-10 bg-light\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    className: \"text-center my-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"b\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 46\n    }\n  }, \"Titulo: \"), produto.titulo), /*#__PURE__*/React.createElement(\"h3\", {\n    className: \"text-center text-success \",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"b\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 55\n    }\n  }, \"Descri\\xE7\\xE3o: \"), produto.descricao), /*#__PURE__*/React.createElement(\"h4\", {\n    className: \"text-center text-danger\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"b\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 53\n    }\n  }, \"Prioridade: \"), \" \", produto.prioridade), /*#__PURE__*/React.createElement(\"h5\", {\n    className: \"text-center text-primary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"b\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 54\n    }\n  }, \"Status: \"), produto.status), /*#__PURE__*/React.createElement(\"h5\", {\n    className: \"text-center text-warning\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"b\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 54\n    }\n  }, \"Prazo: \"), produto.prazo), /*#__PURE__*/React.createElement(\"h6\", {\n    className: \"text-center text-secondary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"b\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 56\n    }\n  }, \"Data de Cria\\xE7\\xE3o: \"), produto.dataCriacao), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"btn-group mt-3 w-100\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: `/edit/${produto._id}`,\n    className: \"btn btn-info\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 15\n    }\n  }, \"Editar\"), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"btn btn-danger\",\n    onClick: AbreModal,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 15\n    }\n  }, \" Excluir\"))))), /*#__PURE__*/React.createElement(Modal, {\n    open: open,\n    onClose: FechaModal,\n    center: true,\n    showCloseIcon: false,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    className: \"my-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 9\n    }\n  }, \"Deseja Realmente Excluir ?\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"d-flex w-50 mx-auto justify-content-around\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: \"btn btn-danger mr-2\",\n    onClick: FechaModal,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 11\n    }\n  }, \"N\\xE3o\"), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"btn btn-success\",\n    onClick: handleDelete,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 11\n    }\n  }, \"Sim\"))));\n};\n\nexport default View;","map":{"version":3,"sources":["/home/ueslei/Documentos/GitHub/testefrontamai/src/pages/View/View.js"],"names":["React","useState","useEffect","useParams","Link","useNavigate","Modal","Api","View","produto","setProduto","open","setOpen","navigate","AbreModal","FechaModal","getProdutoById","id","console","log","request","fetchGetById","json","handleDelete","response","fetchDelete","data","message","alert","error","capa","titulo","descricao","prioridade","status","prazo","dataCriacao","_id"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react'\nimport { useParams } from 'react-router-dom';\nimport { Link, useNavigate } from 'react-router-dom';\nimport { Modal } from 'react-responsive-modal';\nimport 'react-responsive-modal/styles.css';\nimport Api from '../../api/api';\n\nconst View = () => {\n  // inicializa o estado musica para poder fazer as alteracoes do dom.\n  const [produto, setProduto] = useState({});\n  // crio o estado de abertura do modal;\n  const [open, setOpen] = useState(false);\n\n  const navigate = useNavigate();\n\n  // funcoes de abertura e fechamento do modal\n  const AbreModal = () => setOpen(true);\n  const FechaModal = () => setOpen(false);\n\n  // chama o use effect sem parametro de dependencia (executa uma vez ao renderizar o componente)\n  // chamando a funcao getMusicaById\n  useEffect(() => {\n    getProdutoById();\n  }, )\n\n  // acessa o id no parametro da url;\n  const { id } = useParams();\n  console.log(id);\n\n  // faz a chamada para a api passando o id como parametro para buscar o objeto da musica (invidual por id)\n  const getProdutoById = async () => {\n    const request = await Api.fetchGetById(id);\n    const produto = await request.json();\n    setProduto(produto);\n  }\n\n  const handleDelete = async() => {\n    const response = await Api.fetchDelete(id);\n    const data = await response.json();\n    if(data.message) {\n      console.log('excluido', data.message);\n      navigate('/cadastro');\n    }else {\n      alert(data.error);\n    }\n  }\n\n  return (\n    <div className=\"container\">\n      <div className=\"row my-5\">\n        <div className=\"col-6\">\n          <img src={produto.capa} className=\"w-100\" alt={produto.titulo}/>\n        </div>\n        <div className=\"col-6\">\n          <div className=\"card my-10 bg-light\">\n            <h1 className=\"text-center my-2\"><b>Titulo: </b>{produto.titulo}</h1>\n            <h3 className=\"text-center text-success \"><b>Descrição: </b>{produto.descricao}</h3>\n            <h4 className=\"text-center text-danger\"><b>Prioridade: </b> {produto.prioridade}</h4>\n            <h5 className=\"text-center text-primary\"><b>Status: </b>{produto.status}</h5>\n            <h5 className=\"text-center text-warning\"><b>Prazo: </b>{produto.prazo}</h5>\n            <h6 className=\"text-center text-secondary\"><b>Data de Criação: </b>{produto.dataCriacao}</h6>\n            <div className=\"btn-group mt-3 w-100\">\n              <Link to={`/edit/${produto._id}`} className=\"btn btn-info\">Editar</Link>\n              <button className=\"btn btn-danger\" onClick={AbreModal}> Excluir</button>\n            </div>\n          </div>\n        </div>\n      </div>\n      <Modal open={open} onClose={FechaModal} center showCloseIcon={false}>\n        <h2 className=\"my-4\">Deseja Realmente Excluir ?</h2>\n        <div className=\"d-flex w-50 mx-auto justify-content-around\">\n          <button className=\"btn btn-danger mr-2\" onClick={FechaModal}>Não</button>\n          <button className=\"btn btn-success\" onClick={handleDelete}>Sim</button>\n        </div>\n      </Modal>\n    </div>\n  )\n}\n\nexport default View\n"]},"metadata":{},"sourceType":"module"}